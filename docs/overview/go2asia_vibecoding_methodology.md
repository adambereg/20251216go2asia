Методология вайб-кодинга и мультиагентной разработки Go2Asia

Документ описывает методологию разработки Go2Asia с участием ИИ-агентов (Cursor, Bolt.New, Netlify AI, вспомогательных LLM), принципы структурирования задач, правила взаимодействия микросервисов и FE-модулей, принципы контекстного мышления для ИИ, процессы мультиагентных сессий и стандарты ведения документации.
Этот файл является методологическим «северным маяком» всей разработки Go2Asia.
________________________________________
1. Введение
Go2Asia разрабатывается как:
•	AI-ориентированная экосистема,
•	модульный монорепозиторий,
•	комплекс FE/BE проектов,
•	суперапп на микросервисной архитектуре,
•	проект с длинной жизнью, развивающийся через AI-оркестрацию.
Поэтому традиционная разработка заменена подходом Vibecoding —
когнитивной, потоковой, архитектурно осознанной работы в связке человек + AI-агенты.
Вибекодинг — это:
«Проектирование и разработка через поток контекста, смысловых слоёв и архитектурных ограничений, которые AI обязан учитывать в каждом действии».
________________________________________
2. Принципы Vibecoding
2.1. Контекст важнее кода
AI не пишет код «в пустоте».
Он опирается на контекст:
•	/docs/overview/
•	/docs/backend/
•	/docs/modules/
•	.cursor-rules
•	ADR-файлы
Если контекст отсутствует — код не должен генерироваться.
2.2. Архитектурная целостность
Любая команда AI должна:
•	уважать существующую архитектуру,
•	не менять схемы данных без запроса пользователя,
•	не добавлять новые сущности без согласования,
•	не смешивать зоны ответственности сервисов.
2.3. Потоковое проектирование
Разработка идёт волнами:
1.	контекст →
2.	анализ →
3.	уточнение →
4.	архитектурное решение →
5.	код.
И наоборот — никогда не начинать сразу с кода.
2.4. Капсулы контекста (Capsules Policy)
Cursor должен работать строго в пределах выбранной папки/капсулы:
/backend/atlas_service/
/fe/modules/atlas/
Это снижает вероятность утраты контекста.
2.5. AI не выдумывает — AI опирается
AI не должен:
•	придумывать новые API,
•	менять контракты,
•	внедрять новые данные,
•	менять логику микросервисов.
AI должен:
•	использовать документацию,
•	использовать существующие API,
•	соблюдать архитектурные границы.
2.6. 80% reasoning / 20% coding
AI тратит больше времени на:
•	анализ задачи,
•	поиск зависимостей,
•	построение потоков данных,
•	проверку контекста,
чем на генерацию кода.
________________________________________
3. Роли AI-агентов в Go2Asia
3.1. Cursor — Core Architect & Engineer
Отвечает за:
•	разработку FE/BE,
•	корректную работу микрофронтендов,
•	соблюдение архитектуры,
•	анализ документации,
•	выполнение задач в пределах капсулы.
3.2. Bolt.New — FE-прототипирование
Используется для:
•	быстрого UI-черновика,
•	проверки UX-решений,
•	проектирования интерфейсов,
•	синхронизации с design system.
Bolt не выполняет реальную разработку.
3.3. Netlify AI / DevBots
Локальные задачи:
•	CI/CD,
•	оптимизация скриптов,
•	генерация тестов.
3.4. LLM-сервисы Go2Asia (в будущем)
Используются для:
•	анализа пользовательского контента,
•	автоматической категоризации мест,
•	AI-помощника в Guru.
________________________________________
4. Процесс мультиагентной разработки
4.1. Единый цикл
Каждая задача проходит 7 стадий:
1.	Контекст
2.	Постановка задачи
3.	Анализ зависимостей
4.	Архитектурное решение
5.	Разработка
6.	Валидация
7.	Документирование
AI обязан проходить все стадии.
4.2. Формат задач для Cursor
Каждая задача формулируется так:
Задача: (что нужно сделать)
Капсула: (директория)
Контекст: (ссылки на файлы docs)
Ограничения: (...)
Выход: (...)
4.3. Отказоустойчивость контекста
Если Cursor теряет контекст:
•	работа прекращается,
•	AI должен запросить уточнение,
•	должен ссылаться на документацию.
________________________________________
5. Стандарты разработки
5.1. FE-код
•	Next.js 15
•	модульность
•	единый UI Kit
•	strict TypeScript
•	design tokens
•	модульная структура /modules/<name>
5.2. BE-код
•	микросервисы
•	PostgreSQL / Redis
•	OpenAPI
•	события (event bus)
•	DTO/Schema
•	строгая валидация
5.3. API
•	REST v1
•	предсказуемые маршруты
•	запрет на breaking changes
•	документирование в /docs/backend/.../api_contracts.md
________________________________________
6. Правила сохранения архитектурной чистоты
Запрещено для AI:
•	менять схемы БД без разрешения,
•	объединять сервисы,
•	создавать новые без архитектурного решения,
•	добавлять поля, которых нет в документации,
•	менять модели данных без ADR.
Разрешено:
•	оптимизировать код,
•	улучшать структуру папок,
•	рефакторить без изменения логики,
•	улучшать DX.
________________________________________
7. Работа с документацией
7.1. Документация — часть архитектуры
Каждое изменение кода → изменение документации.
7.2. Обязательные папки:
/docs/overview/
/docs/backend/
/docs/modules/
/docs/architecture/
/docs/ops/
7.3. ADR — Architectural Decision Records
Каждое архитектурное решение оформляется как:
adr_XXXX_<название>.md
________________________________________
8. Работа с Capsules Policy
AI-агенты должны работать в режиме капсул:
8.1. FE-капсулы
/fe/modules/atlas
/fe/modules/pulse
...
8.2. BE-капсулы
/backend/quest_service
/backend/rf_service
/backend/connect_service
8.3. Документационные капсулы
/docs/overview
/docs/backend/atlas_service
________________________________________
9. Взаимодействие микросервисов в рамках методологии
В методологии закреплено:
•	AI никогда не смешивает зоны ответственности.
•	Atlas не может вызывать Rielt.
•	Quest не может напрямую обращаться к RF.
•	Connect никогда не знает бизнес-контекст (только события).
•	Blockchain Gateway не знает экономику (только команды mint/burn).
________________________________________
10. Модель коммуникаций
Вибекодинг предполагает отказ от старых паттернов:
•	нет чат-сервисов,
•	нет комментариев,
•	нет свободных текстовых коммуникаций в API.
Вместо этого:
Reactions:
•	like
•	short_review
•	rating
•	repost
•	question
•	contact_request
•	thread_reply
Это универсальный язык взаимодействия.
________________________________________
11. Vibecoding Flow для крупных задач
11.1. Шаги:
1.	Мета-анализ задачи
2.	Выявление всех зависимостей
3.	Построение диаграмм (в голове или на бумаге)
4.	Сравнение с архитектурой
5.	Генерация решения
6.	Генерация кода
11.2. Если задача требует изменения архитектуры:
AI обязан сформировать ADR, прежде чем писать код.
________________________________________
12. Лучшие практики мультиагентной работы
✔ Использовать .cursor-rules для настройки поведения
✔ Хранить протоколы AI-команды в /docs/overview/go2asia_ai_team_protocol.md
✔ Всегда указывать капсулу
✔ Держать документацию в актуальном состоянии
✔ Работать итеративно и осознанно
________________________________________
13. Заключение
Методология Vibecoding в Go2Asia обеспечивает:
•	предсказуемость разработки,
•	архитектурную целостность,
•	высокую скорость,
•	отсутствие ошибок,
•	системное мышление,
•	синхронную работу нескольких AI-агентов.
Этот документ должен читаться Cursor и другими AI-агентами перед выполнением любой задачи, чтобы обеспечить согласованность и точность разработки.

