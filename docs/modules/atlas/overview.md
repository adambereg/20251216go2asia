# Atlas Asia — Overview
Версия 1.0

Atlas Asia — модуль-энциклопедия экосистемы Go2Asia, структурирующий знания о странах, городах и местах Юго-Восточной Азии.  
Это точка входа для осмысленного путешествия: «понять страну и город», «увидеть ключевые места», «связать это с событиями, жильём, квестами и Russian Friendly-партнёрами».

Atlas — не просто справочник; он работает как **основа контекста** для других модулей (Pulse, Guru, Quest, Rielt, RF, Space, Connect).

---

## 1. Назначение и роль Atlas Asia

### 1.1. Основная миссия
- Дать путешественнику **структурированную картину страны/города/места**.
- Стать **единым справочником локаций** для всех модулей экосистемы.
- Помочь пользователю связать:
  - «где я?» → «что рядом?» → «что делать?» → «где жить?» → «с кем?» → «как заработать/получить бонусы?».

### 1.2. Ключевые задачи
- Показать **страны ЮВА** с удобной структурой образовательного контента (история, культура, визы, бизнес и т.д.).
- Показать **города** с «снимком» городской жизни, районов, особенностей.
- Показать **места** (places):
  - органические городские места (исторические, архитектурные, природные, туристические),
  - заведения партнёров Russian Friendly (кафе, бары, гостиницы и т.д.), привязанные к местам.
- Стать **базой координат** для:
  - событий (Pulse),
  - жилья (Rielt),
  - квестов и прогулок (Quest),
  - рекомендаций рядом (Guru),
  - отзывов и реакций (Reactions + Space).

---

## 2. Позиционирование в экосистеме Go2Asia

Atlas Asia — это **северный справочник локаций**, на который опираются:

- **Pulse Asia** — события почти всегда привязаны к `city_id` / `atlas_place_id`.
- **Guru Asia** — логика «рядом с тобой» использует геоданные из Atlas.
- **Quest Asia** — чекпоинты квестов всегда привязаны к городам и местам Atlas.
- **Rielt Asia** — объявления жилья привязаны к городам и районам из Atlas.
- **Russian Friendly** — партнерские заведения линкуются к `atlas_place_id` (здание, ТЦ, район).
- **Space Asia** — посты и репосты могут ссылаться на `place_id` / `city_id` для социальных обзоров.
- **Connect/Points/NFT** — многие награды привязаны к действиям в конкретных местах (квесты, отзывы, посещения).

Atlas задаёт **единый ID-слой локаций** и общую «карту мира» для всей экосистемы.

---

## 3. Целевая аудитория и пользовательские сценарии

### 3.1. Целевая аудитория
- Российские путешественники, планирующие поездку в страну ЮВА.
- Цифровые кочевники и экспаты, живущие в городах ЮВА.
- PRO-спейсеры и локальные «гуру», которые:
  - создают квесты,
  - ведут тематические прогулки,
  - работают с партнёрами RF.
- Инвесторы и «долгоживущие» гости, рассматривающие недвижимость.

### 3.2. Типовые сценарии

1. **Планирование поездки в страну**  
   Пользователь открывает страну (например, Вьетнам) и читает:
   - Обзор,
   - Историю,
   - Географию,
   - Культуру,
   - Проживание,
   - Визы,
   - Бизнес.
   Далее переходит к городам и конкретным местам.

2. **Выбор города для зимовки/релокации**  
   Пользователь сравнивает несколько городов:
   - климат, районы, инфраструктуру,
   - стоимость жизни,
   - наличие RF-партнёров,
   - предложения по жилью (линки в Rielt),
   - события и квесты.

3. **Исследование города перед приездом**  
   Входит на страницу города:
   - видит вкладку «Обзор» (районы, атмосфера, транспорт),
   - вкладку «Городские прогулки и приключения» (линки на Quest Asia),
   - вкладку «Лучшие места» (карточки локаций),
   - вкладку «Russian Friendly» (партнерские заведения).

4. **Прибытие в город → что рядом?**  
   Через Guru Asia использует:
   - рекомендации по местам (на базе Atlas),
   - ближайшие RF-партнёры,
   - квесты и прогулки.

5. **Создание квеста PRO-спейсером**  
   PRO:
   - выбирает город и места (из каталога Atlas),
   - добавляет чекпоинты,
   - включает партнёрские заведения (из RF),
   - привязывает квест к вкладке «Городские прогулки и приключения».

---

## 4. Структура контента в Atlas Asia

### 4.1. Уровень страны

Пример вкладок (MVP):

- **Обзор** — краткий портрет страны: общее впечатление, ключевые особенности, кому подойдёт.
- **История** — тезисная, структурированная история страны.
- **География** — регионы, климат, сезонность.
- **Культура** — традиции, менталитет, местные особенности.
- **Проживание** — формат жизни, районы крупных городов, аренда и инфраструктура (на уровне страны).
- **Визы** — визовый режим для россиян и основных целевых групп.
- **Бизнес** — регистрация бизнеса, рынки, ограничения, риски (обзорно).

### 4.2. Уровень города

Предполагаемые блоки:

- **Обзор города** — общая характеристика, кому подойдёт, чем знаменит.
- **Районы** — краткие описания районов (для связи с Rielt, Guru, Quest).
- **Городские прогулки и приключения**  
  - подборка квестов из Quest Asia по этому городу,
  - тематические маршруты,
  - прогулки по районам.
- **Лучшие места** — подборка ключевых точек:
  - исторические,
  - архитектурные,
  - природные,
  - lifestyle.
- **Russian Friendly в городе**  
  - список партнёрских заведений,
  - фильтры по категориям (еда, кофе, жильё, сервисы).

### 4.3. Уровень места (Place)

Места делятся на:

1. **Органические городские места**  
   - исторические здания,
   - храмы,
   - парки,
   - пляжи,
   - видовые точки,
   - районы.

2. **Заведения партнёров (RF-партнёры)**  
   - рестораны, кофейни,
   - бары,
   - гостиницы, отели, апартаменты,
   - сервисы и услуги.

**Структура страницы места:**

- Фото + hero без рамки (для топовых мест) или карточка с рамкой (в списках).
- Краткий обзор (1–2 абзаца).
- Подробное описание (для organics).
- Геолокация (карта).
- Метаданные:
  - тип места,
  - теги,
  - статус RF (если партнёр),
  - наличие квестов / чекпоинтов рядом.
- Блок «Рядом с этим местом»:
  - события (Pulse),
  - квесты (Quest),
  - RF-заведения (если это крупная локация, типа ТЦ или района),
  - жильё (Rielt).

Для RF-партнёров будет отдельная специфика в UI/structure, но Atlas выступает как базовая «карта».

---

## 5. Взаимодействие с другими модулями

### 5.1. Russian Friendly (RF)

- Каждое партнерское заведение имеет:
  - `rf_partner_id`
  - привязку к `atlas_place_id` (здание/район/город).
- Atlas отображает RF-партнёров:
  - на странице города → отдельная вкладка/блок «Russian Friendly»,
  - на странице места → «Партнёры внутри/рядом»,
  - в фильтрах мест.

### 5.2. Pulse Asia

- События Pulse имеют `city_id` и `place_id` (опционально).
- На уровне города Atlas может:
  - показывать подборку ближайших событий,
  - отправлять пользователя в Pulse с заранее выбранным городом.
- На уровне места:
  - список событий, проходящих в этом месте.

### 5.3. Quest Asia

- Квесты и чекпоинты всегда привязаны к Atlas:
  - `city_id`,
  - `atlas_place_id` для чекпоинтов.
- На странице города:
  - вкладка/раздел «Городские прогулки и приключения» с квестами.
- На странице места:
  - квесты, где это место участвует как чекпоинт.

### 5.4. Guru Asia

- Guru использует Atlas как источник:
  - списка мест поблизости,
  - фильтра по типам мест,
  - контекстных подсказок.
- Atlas не делает realtime «рядом со мной», но даёт структурированные данные.

### 5.5. Rielt Asia

- Объявления жилья привязаны к `city_id` и при необходимости к `place_id` / району.
- На странице города Atlas может:
  - передавать пользователя в Rielt с преднастроенными фильтрами по району.
- На странице района:
  - «жильё в этом районе» (ссылка на Rielt).

### 5.6. Space Asia и Reactions

- Пользовательские посты могут ссылаться на `place_id`.
- Reactions Service агрегирует:
  - оценки (rating),
  - короткие отзывы (short_review),
  - репосты,
  - вопросы.
- Atlas отображает:
  - рейтинг места,
  - количество отзывов,
  - самые полезные short-review (через реакционную систему).

---

## 6. Источники данных и управление контентом

### 6.1. Источники

- Редакционный контент (подготовленный командой Go2Asia).
- Проверенные внешние источники (для фоновой информации; хранится в переработанном виде).
- Пользовательский контент:
  - репосты из Space,
  - short-review, rating (через Reactions).

### 6.2. Модерация

- База стран/городов/основных мест — полностью модераторская.
- Пользователь не может создавать новые **страны/города/базовые места** через публичный интерфейс.
- Добавление новых мест возможно только:
  - через админ-панель,
  - через PRO/модератора (в будущем — контролируемые формы).

---

## 7. Ограничения и допущения MVP

### 7.1. В географии
- MVP фокусируется на ограниченном числе стран/городов (например, Вьетнам, Таиланд и ключевые курорты).
- Расширение списка стран и городов производится по мере наполнения.

### 7.2. В функционале
- Нет UGC-редактирования текстов описаний.
- Отзывы только в формате:
  - rating,
  - short_review,
  - репосты в Space.
- Нет online-чата; только реакции + уведомления.

### 7.3. В языках
- MVP: русский язык.
- При расширении аудитории: добавление EN (и далее — локализаций).

---

## 8. Нефункциональные требования

- Быстрая загрузка страниц (кэширование, статическая генерация для стран/городов).
- SEO-дружественная структура URL:
  - `/atlas/country/vietnam`
  - `/atlas/city/da-nang`
  - `/atlas/place/dragon-bridge`
- Единый UI-стиль, согласно `go2asia_style_guide.md`:
  - hero без рамок,
  - карточки с рамками,
  - единое поведение фильтров и табов.
- Полная совместимость с PWA Shell:
  - корректная работа на мобильных устройствах,
  - поддержка offline-кеша для основных текстов (в будущем).

---

## 9. Роудмап Atlas Asia (верхнеуровневый)

> Детальный план — в `docs/modules/atlas/roadmap.md`. Здесь — краткий обзор.

**MVP:**
- Страны (1–3), города (2–5 ключевых), базовые места.
- Вкладки страны и города с основными разделами контента.
- Список мест с фильтрами.
- Интеграция с RF (базовая), Quest, Pulse (линки и простые блоки).
- Подключение Reactions (rating + short_review).

**Phase 2:**
- Расширение числа стран/городов.
- Вкладка «Городские прогулки и приключения» как полноценный хаб для Quest.
- Больше типов мест, гибкая фильтрация.
- Углублённая интеграция с Rielt (районы и недвижимость).

**Phase 3:**
- Интерактивные карты и маршруты.
- Алгоритмические подборки «твои места» (AI).
- Динамический контент на основе Connect/Points/NFT (например, «места, где ты уже был»).

---

Atlas Asia — фундаментальный модуль Go2Asia.  
Этот документ задаёт его концепцию, границы и роль в экосистеме.  
Детали реализации (модели данных, контракты API, структура UI) раскрываются в соседних файлах:

- `data_model.md`
- `api_contracts.md`
- `ui_structure.md`
- `roadmap.md`
