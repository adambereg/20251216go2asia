# Microservices — Архитектура микросервисов Go2Asia

---

## 1. Принципы разбиения на микросервисы

- Один сервис — один домен ответственности.
- Сервисы автономны в развертывании и масштабировании.
- Взаимодействие через явные API и события.

---

## 2. Критерии выделения сервиса

Сервис стоит выделить, если:
- доменная модель сложна и логически обособлена (например, недвижимость или события);
- нагрузка потенциально высока и отличается по профилю;
- нужны отдельные SLA/масштабирование.

---

## 3. Примеры сервисов

- **Atlas Service** — географические сущности и контент о странах/городах/местах.
- **Pulse Service** — события и календарь.
- **Media/Blog Service** — блог-контент.
- **RF Service** — партнёрские заведения и услуги.
- **Rielt Service** — недвижимость и сделки.
- **Quest Service** — квесты и игровые сценарии.
- **User/Auth Service** — пользователи, роли.
- **Points/NFT/Blockchain Gateway** — токеномика и Web3 интеграции.
- **Notification Service** — отправка уведомлений.
- **Logging/Analytics Service** — общее логирование и аналитика.

---

## 4. Коммуникация

- **Sync:** REST запросы (иногда gRPC, опционально).
- **Async:** события (через брокер/очередь), для:
  - начисления Points,
  - отправки уведомлений,
  - аналитики.

---

## 5. БД и данные

- Каждый сервис имеет свою схему в БД (либо физически отдельную БД при необходимости).
- Жёсткое правило: один сервис — владелец своих таблиц.
- Чтение чужих данных происходит через API или денормализованные проекции.

---

## 6. Связанные документы

- `architecture/be_architecture.md`
- `architecture/data_flow.md`
- `architecture/caching_and_performance.md`
- `decisions/adr_0003_content_service_pattern.md`
