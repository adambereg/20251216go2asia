Go2Asia – цифровая экосистема путешествий, жизни и бизнеса в Юго-Восточной Азии

## Обзор экосистемы Go2Asia

Go2Asia – это связанная сеть веб-модулей и микросервисов, объединяющая путешественников, местных жителей, бизнес-партнёров и PRO-кураторов. Каждый модуль экосистемы отвечает за свою область (контент, социальные связи, партнёрские сервисы, геймификацию и т.д.), но все вместе они формируют единое пространство данных, экономики и взаимодействий. Цель Go2Asia – создать цифровую экосистему для жизни, путешествий и бизнеса в Юго-Восточной Азии, где участники (от туристов до локальных бизнесов) могут получать актуальную информацию, взаимодействовать друг с другом и получать взаимную выгоду. Основные принципы экосистемы – интеграция разных сервисов, единая экономическая система вознаграждений и сообщество, движимое контентом. Путешественники получают персонализированный “путеводитель” по окружающему миру, локальные бизнесы – прямой доступ к целевой аудитории, а активные участники (PRO-кураторы) – инструменты для создания контента и монетизации своего опыта.

В экосистеме предусмотрены роли пользователей с разным уровнем участия: обычные участники (спейсеры), активные участники с привилегиями (VIP-спейсеры) и PRO-участники (кураторы). Например, спейсер – базовый пользователь, который может публиковать посты, лайкать контент, вступать в группы и приглашать друзей через реферальную программу. VIP-спейсер обладает всеми возможностями обычного пользователя и, кроме того, получает расширенные вознаграждения (например, дополнительные поинты за активность рефералов). PRO-пользователь (PRO-спейсер) – это опытный участник, выступающий экспертом, гидом или организатором: он обладает привилегиями VIP и дополнительно может создавать квесты, публиковать экспертный контент, а также привлекать бизнес-партнёров в программу Russian Friendly (получая за это вознаграждения в экосистеме). Таким образом, Go2Asia стимулирует рост участников от пассивных читателей до активных создателей и кураторов сообщества.

## Архитектурные модули Go2Asia

Экосистема состоит из ряда взаимосвязанных модулей – каждый из них решает свою задачу, но вместе они обеспечивают полный цикл сервисов для путешественников и экспатов. Ниже приведён обзор ключевых модулей, их ролей, функций и связей:

## Guru Asia – путеводитель “рядом с тобой”

Guru Asia – главный пользовательский интерфейс путешественника, своего рода “живой путеводитель” по окрестностям. Его функция – показывать всё интересное, что находится в пределах ~5–10 минут пешком от пользователя: места, события, жильё, люди и новости. Guru агрегирует данные из других модулей: места из Atlas Asia и Russian Friendly Asia, события из Pulse Asia, объекты жилья из Rielt.Market, людей (PRO-пользователей) из Space Asia, а новости – из Blog Asia. 
Таким образом, Guru Asia представляет собой карту и список объектов “рядом со мной”, позволяя быстро получить информацию об окружении. Модуль Guru опирается на микросервис Guru Service, который собирает и ранжирует геоданные (по расстоянию, времени, рейтингу и т.д.) из различных источников и возвращает их единым списком.

Роль в экосистеме: точка входа для путешественника. Guru Asia – первый экран, который открывает пользователь, оказавшись в новом городе, чтобы сориентироваться и найти необходимые места или события поблизости. Он обеспечивает навигацию “здесь и сейчас” и связывает между собой данные всех остальных модулей.

## Atlas Asia – wiki-энциклопедия мест и локаций ЮВА

Atlas Asia – фундаментальный модуль контента и знаний об Азии. Это wiki-подобная база знаний о странах, городах, районах и конкретных местах (достопримечательности, кафе, пляжи, районы проживания и т.п.). Atlas обеспечивает структурированные справочные данные: описания локаций, их геокоординаты, категоризацию, фотографии и т.д. В этом модуле сочетается редакторская и пользовательская WIKI-механика – проверенные редакцией статьи могут дополняться предложениями от PRO-пользователей и сообщества. 
Atlas Asia служит базой пространственных данных для всей экосистемы: его API используют другие модули при работе с географической информацией (например, Guru отображает места из Atlas, Pulse привязывает события к локациям Atlas, Rielt.Market ссылается на города и районы из Atlas). Основная задача Atlas – поддерживать актуальную и достоверную базу данных о локациях и давать пользователям возможность углубиться в информацию о том месте, где они находятся или куда планируют поехать.

## Pulse Asia – событийный календарь региона

Pulse Asia – модуль актуальных событий, отражающий “ритм жизни” Юго-Восточной Азии. Он объединяет информацию о мероприятиях: фестивалях, встречах, экскурсиях, выставках, концертах и других событиях. Pulse выполняет двойную роль: с одной стороны, это афиша “здесь и сейчас” (ближайшие события с фильтрами по дате: сегодня, завтра, выходные) и геопривязкой для отображения на карте через Guru. С другой стороны, Pulse – хроника региона, то есть архив произошедших событий, который формирует историческую и культурную летопись (эти данные могут использоваться, например, для статей в Blog Asia). Источниками событий служат сами организаторы (которые могут быть PRO-пользователи или бизнес-партнёры RF), а также пользователи-сообщники, предлагающие мероприятия. 
Интеграция: данные Pulse про события отображаются в Guru (в разделе “События рядом”), места проведения событий привязаны к Atlas, участники мероприятий связаны с Space (например, указаны организаторы-PRO или создаются чаты в соцсети), а лучшие репортажи о мероприятиях могут публиковаться в Blog Asia. Формат представления – карточки событий с указанием времени и места. Pulse Asia позволяет путешественникам и экспатам узнавать, что интересного происходит вокруг, а PRO-организаторам – продвигать свои мероприятия в целевой аудитории Go2Asia.

## Blog Asia – медиацентр и социальная хроника

Blog Asia – это медиа-платформа экосистемы и связующее звено между профессиональным медиа и контентом сообщества. Blog Asia публикует: 
- редакционные материалы (официальные статьи, гиды, интервью от команды Go2Asia), 
- статьи и репортажи от PRO-авторов и партнёров, 
- лучшие посты из сообщества Space Asia (отобранные по лайкам и рекомендации модераторов).
Таким образом, Blog Asia объединяет три источника контента: редакция, PRO/партнёры и UGC (контент пользователей). Механика модерации такова: пользователи пишут посты в Space Asia, лучшие из них отбираются (через группы, рекомендации, модерацию) и публикуются в Blog Asia. Тематика материалов – культура, путешествия, лайфстайл, digital-nomad опыт, бизнес в ЮВА и т.п. 
Интеграция: Blog тесно связан с другими модулями: он ссылается на Atlas/Pulse для контекста (упоминания мест или событий в статьях), получает контент из Space, а через Connect начисляются вознаграждения авторам за популярный контент. Роль Blog Asia – быть информационным центром и “витриной” лучших идей сообщества, одновременно вдохновляя пользователей и укрепляя сообщество вокруг тем, важных для путешественников в Азии.

Rielt.Market Asia – сервис аренды жилья

Rielt.Market Asia – модуль, посвящённый поиску и аренде жилья (краткосрочной и долгосрочной) в регионе ЮВА. Он позволяет пользователям находить жильё (квартиры, дома, апартаменты) для аренды, а владельцам или агентам – размещать объявления. 
Особенность Rielt.Market – интеграция с партнёрской сетью Russian Friendly: многие владельцы жилья являются RF-партнёрами, предоставляющими гарантированный уровень сервиса для русскоязычных резидентов. Такие объекты помечаются специальным значком RF и могут сопровождаться ваучерами на скидки. 
Интеграция: данные о жилье отображаются в Guru Asia наряду с местами и событиями (“Жильё рядом”). При размещении объявлений используется справочник Atlas (для указания города/района), а взаимодействие арендаторов и владельцев происходит при участии PRO (например, PRO-куратор может проверять объект, помогать с размещением и получать за это вознаграждения через Connect). 
Цель Rielt.Market Asia – предоставить путешественникам удобный и безопасный способ найти жильё поблизости, интегрированный с остальными сервисами Go2Asia (например, чтобы сразу на карте Guru видеть и достопримечательности, и события, и доступные квартиры рядом). Кроме того, модуль способствует доверию через механику проверок: PRO-пользователи могут верифицировать объекты жилья, а статус Russian Friendly гарантирует соответствие определённому стандарту сервиса.

## Russian Friendly Asia (RF Asia) – партнёрская программа

Russian Friendly Asia – модуль партнёрской программы, объединяющий локальные бизнесы ЮВА, ориентированные на русскоязычных путешественников и экспатов. Проще говоря, RF Asia – это каталог проверенных Russian Friendly мест и сервисов: рестораны, кафе, коворкинги, магазины, услуги, а также партнёрские объекты жилья. Модуль предоставляет личные кабинеты для бизнес-партнёров, где они могут создать профиль своего заведения, управлять специальными предложениями (ваучерами), просматривать статистику посещений и отзывов. 
У PRO-кураторов в RF Asia есть своя панель управления: PRO приглашают новые бизнесы в программу, помогают им зарегистрироваться и вести профиль, а взамен получают вознаграждения в виде Points/G2A (через Connect) за успех партнёров. 
Интеграция: данные RF (места партнёров) отображаются в Guru как “дружественные” места рядом, могут включаться в квесты Quest Asia, а пользователи могут получать за посещение таких мест Points или ваучеры. 
Ваучеры – важная часть RF Asia: это скидки, бонусы или специальные предложения для пользователей Go2Asia. Модуль управляет системой промо-ваучеров (например, скидка в %, бонусное блюдо, подарок при посещении). Пользователи могут получать эти ваучеры через Guru или Quest (выполняя миссии, посещая места) и использовать их у партнёров. 
Russian Friendly Asia служит мостом между сообществом путешественников и локальным бизнесом: повышает качество сервиса (вводя стандарт “Russian Friendly”), даёт бизнесам видимость и доступ к аудитории Go2Asia, а PRO-кураторам – возможность монетизировать свой опыт, поддерживая бизнесы и получая комиссионные.

## Space Asia – социальная сеть сообщества

Space Asia – социальный модуль экосистемы, предназначенный для общения и контента пользователей. По сути, это социальная сеть Go2Asia: лента новостей и историй, тематические группы, личные профили, возможность дружить и переписываться, делиться опытом. Space Asia поддерживает разные типы постов – как приватные записи (видны только самому пользователю), так и публикации для друзей или групп, вплоть до открытых постов на всю аудиторию. 
Пользователи могут создавать группы по интересам, куда выкладывают контент, а модераторы и редакция отслеживают лучшие посты для последующей публикации в Blog Asia. 
Также Space интегрирован с остальными сервисами: например, Guru может отображать на карте людей рядом (но только тех PRO, кто включил функцию отображения себя поблизости), Russian Friendly собирает отзывы пользователей (которые остаются через Space как социальные отзывы о местах), Quest публикует в Space отчёты участников о пройденных миссиях, а Connect начисляет Points за активность в соцсети (лайки, посты и т.д.). 
Роли пользователей (спейсер, VIP, PRO) наиболее заметны именно в Space: базовые пользователи генерируют контент, VIP имеют расширенные возможности (получать вознаграждение в поинтах за активность рефералов и субрефералов, тратить поинты на ваучеры и квесты), а PRO-пользователи выступают лидерами – они могут создавать и модерировать группы, создавать события и квесты, и их контент имеет шанс попасть в официальные каналы (Blog). 
Space Asia строит сообщество Go2Asia, где участники обмениваются опытом, помогают друг другу и формируют свою репутацию (через систему лайков, комментариев, бейджей и уровней).

## Connect Asia – центр экономики и геймификации

Connect Asia – модуль, отвечающий за экономику вознаграждений и мотивацию пользователей в экосистеме. Проще говоря, Connect – это “кошелёк” и дашборд пользователя для отслеживания накопленных Points, токенов G2A и NFT-бейджей, а также механизм начисления очков и управления уровнями/рейтингами. 
В Connect сходятся события со всех модулей: любое значимое действие (новый пост, приглашённый друг, завершённый квест, проверенный объект, приглашённый партнер и т.д.) может приносить пользователю Points или другие награды. 
Connect включает в себя: 
- Реферальную программу (приглашение новых пользователей и партнеров), 
- Экономику активности (начисление Points за вклад в контент, отзывы, прохождение квестов, взаимодействие с партнёрами), 
- Геймификацию и аналитику – система бейджей, уровней, достижений, лидербордов, которая стимулирует пользователей быть активнее.
Стоит подчеркнуть, что Connect не дублирует бизнес-логику партнёрской программы RF – он только отображает и учитывает вознаграждения, связанные с партнёркой (например, Points для PRO за приведённого бизнес-партнера), но сама партнёрская операционная деятельность ведётся в RF Asia. 
Интеграция: все модули посылают события в Connect (через специальный сервис Token Service, см. ниже) – например, пост в Space, получивший 100 лайков, может принести автору 100 Points; завершение квеста – ещё Points и NFT; приглашение друга – бонус Points, а приглашение бизнеса – G2A-токены для PRO. Connect суммирует всю экономическую активность и отображает пользователю единый баланс и достижения. 
Таким образом, Connect Asia – это центр мотивации, поощряющий участие пользователей и связывающий воедино все поощрения в экосистеме Go2Asia.

## Quest Asia – квесты, миссии и маршруты

Quest Asia – модуль игровых и туристических сценариев, призванный вовлечь пользователей в исследование Азии через формат квестов и миссий. 
PRO-участники (совместно с бизнес-партнерами) могут создавать интерактивные маршруты и задания: например, городские квесты (прогулки по достопримечательностям и партнёрским местам RF), социальные миссии (сделать фото или отзыв, посетить событие), туристические маршруты на 1–2 дня и т.д.. Пользователи, выполняя задания квеста, получают награды через Connect – Points, NFT бейджи, а иногда и токены G2A. 
Quest Asia тесно интегрирован со всей экосистемой: точки для квестов берутся из RF Asia, Pulse Asia, Atlas Asia (партнёрские места, события, интересные локации), отображаются на карте Guru (как специальные маркеры миссий), отчёты о прохождении квестов (фото, отзывы) публикуются в Space Asia, а награды начисляются через Connect. 
Роль Quest Asia – добавлять игровой, геймификационный слой к путешествиям и жизни в ЮВА. Это повышает вовлечённость: каждый пользователь может не просто читать контент, но и активно участвовать в миссиях, зарабатывая очки и привилегии. Для бизнес-партнёров Quest – это новый способ продвижения (включая свои локации в популярные маршруты), а для PRO – возможность проявить экспертность, организуя авторские экскурсии и челленджи. Quest Asia фактически объединяет все модули в одном сценарии: знания из Atlas, места и скидки от RF, события из Pulse, карту Guru и экономику Connect – всё это складывается в единый пользовательский опыт. Цель – чтобы каждое действие пользователя превращалось в ценность: впечатление и новую информацию для него самого, продвижение для локального бизнеса и активность для сообщества, вознаграждаемую баллами и токенами.

## Token Service – движок внутренней токеномики (оффчейн)

Token Service – инфраструктурный модуль, отвечающий за оффчейн-учёт цифровых активов Go2Asia. Это микросервис, который является единственным источником истины для балансов Points и G2A внутри системы, а также хранит информацию о NFT-бейджах пользователей. 
Функционально Token Service начисляет и списывает Points согласно заданным правилам, ведёт учёт оффчейн G2A токенов (внутренний баланс, отражающий потенциальный on-chain токен), управляет выпуском и улучшением NFT (например, повышение уровня NFT-бейджа). Он обеспечивает идемпотентность транзакций, аудит и подготовку операций для блокчейна. Важно, что сам Token Service не взаимодействует напрямую с блокчейном – все on-chain операции выполняются через отдельный шлюз (Blockchain Gateway). 
Интеграция: когда в каком-либо модуле происходит событие, заслуживающее награды (будь то действие пользователя или партнёра), соответствующий сервис отправляет событие в Token Service. Token Service по таблице правил вычисляет, что положено выдать: например, Quest Service отправил событие quest_completed – Token Service начисляет +100 Points участнику и, допустим, формирует задачу на mint NFT за пройденный квест. Или RF Asia по итогам месяца отправила событие о выполнении KPI партнёра – Token Service начислит PRO-куратору вознаграждение (Points или G2A). Все эти внутренние расчёты проходят оффчейн. Затем, по запросу пользователя, Token Service может инициировать конвертацию Points в G2A и выпуск реальных токенов через Gateway (см. ниже). Таким образом, Token Service – это “расчётный центр” экономики Go2Asia, где сходятся все потоки вознаграждений и правил из модулей.

## Blockchain Gateway – шлюз on-chain операций

Blockchain Gateway – специализированный сервис, выполняющий роль моста между внутренней системой и блокчейном TON. Когда возникает необходимость выполнить реальные блокчейн-операции – выпустить (mint) или сжечь G2A токен, передать токены на внешний адрес, либо выпустить NFT в сеть TON – эти задачи делегируются Gateway. Он безопасно выполняет транзакции mint/burn/transfer для токена G2A и NFT, а затем синхронизирует результат обратно в оффчейн-учёт Token Service. 
Gateway – единственный компонент системы, который хранит приватные ключи и взаимодействует с блокчейн-нодами. Безопасность – ключевой аспект: приватные ключи хранятся в аппаратном модуле безопасности (HSM), предусмотрена поддержка как кастодиальных кошельков (когда система управляет адресом пользователя), так и привязка внешнего кошелька пользователя (через подтверждение права подписью). Все вызовы к Gateway идут только от доверенных сервисов (Token Service) по mTLS с белым списком IP, что исключает несанкционированный доступ. Gateway также реализует меры контроля: лимиты и velocity-check (проверка частоты) на вывод средств, возможность проверки транзакций на отмывание (KYT) или санкции, если потребуется. 
Задача Gateway – изолировать сложность и риски работы с блокчейном от основной платформы, обеспечив надежность и безопасность активов пользователей. Благодаря Gateway, on-chain операции проводятся прозрачно для пользователя (через интерфейс Connect), а внутри система поддерживает консистентность балансов оффчейн/ончейн. Например, когда пользователь решает перевести накопленные G2A на блокчейн, Connect (через Token Service) создаёт задачу mint, Gateway подписывает транзакцию в сети TON, отслеживает её подтверждение и сигнализирует обратно о результате. В итоге пользователь получает токены на блокчейн-адрес, а экосистема обновляет внутренний статус, не подвергая риску приватные ключи или целостность данных.

## Пользовательские интерфейсы: текущее состояние и планы

Экосистема Go2Asia предоставляет различные пользовательские интерфейсы, ориентированные на разные роли – от путешественника до бизнес-партнёра. Основная концепция – модульность: каждый крупный модуль имеет свой фронтенд (веб-приложение или раздел супер-приложения), но для пользователя они выглядят как части единого пространства Go2Asia. Ниже описаны ключевые интерфейсы, существующие сейчас или находящиеся в планах:

Интерфейс путешественника (клиентский веб/мобил) – главным “оконцем” в экосистему для обычного пользователя выступает веб-приложение Guru Asia. Оно представляет собой карту и список объектов вокруг, как описано выше: пользователь открывает Guru, разрешает определение геопозиции, и сервис показывает ему места, события, жильё и людей поблизости на карте и в виде списка результатов. Отсюда можно перейти в детали любой сущности: например, кликнув место – открыть страничку с подробным описанием (из Atlas Asia), кликнув событие – просмотреть описание события (из Pulse Asia), жильё – перейти к объявлению на Rielt.Market, человека – к его профилю в Space Asia, новость – к статье в Blog Asia. Таким образом, Guru выступает своего рода навигационным хабом. 
Сейчас интерфейс Guru – это адаптивный веб-сайт (планируется PWA, чтобы работал как мобильное приложение). В будущем возможно появление единого мобильного приложения Go2Asia, где Guru будет главной экранной вкладкой, а остальные сервисы – вкладками или разделами. Уже реализованы некоторые интерактивные функции: например, поиск по интересам, фильтрация по категориям (еду, достопримечательности, жильё и т.п.) и push-уведомления про новое рядом (например, “Сегодня рядом с вами открылась новая кофейня”).

Интерфейс контент-порталов (Atlas, Pulse, Blog) – эти модули имеют свои веб-страницы, доступные через основные навигаторы или из Guru. Atlas Asia предоставляет пользователю привычный wiki-опыт: можно зайти на страницу страны, города или места, прочитать описание, увидеть фотографии, список связанных объектов (например, что есть интересного в этом городе), а также воспользоваться картой для просмотра всех мест. Есть поиск по категориям и тегам (например, найти все пляжи или все кофейни в выбранном городе). Pulse Asia предлагает календарь событий: список или карту мероприятий с фильтрами по дате и категории. Пользователь может открыть страницу конкретного события, где увидит описание, время и место проведения (связано с Atlas), информацию об организаторе (ссылка на профиль PRO или партнёра из Space/RF), кнопку “Участвовать” или “Связаться” (например, которая может вести в чат Space или форму регистрации). 
Blog Asia имеет интерфейс онлайн-журнала: главная страница с избранными статьями, рубрикатор по темам, страница статьи с контентом (текст, фото, видео) и профилем автора. Для пользователя Blog выглядит как классический медиа-сайт, но с социальными элементами (например, репост статьи через аккаунт Space Asia, возможность лайкнуть или поделиться). Все эти интерфейсы связаны между собой гиперссылками для плавной навигации: статья Blog может содержать ссылку на город в Atlas или на профиль автора в Space, страница места Atlas – ссылку на связанные события Pulse или посты Blog, и так далее.

Социальный интерфейс (Space Asia) – Space доступен пользователям как отдельное приложение (веб-сайт) на поддомене go2asia.space. Здесь пользователь попадает в ленту новостей – микс контента от тех, на кого он подписан, из групп, и рекомендованные посты. Интерфейс напоминает знакомые соцсети: можно написать свою “заметку” (пост), которая по умолчанию приватна или видна только друзьям, затем при желании расшарить её шире (в группу или сделать общедоступной). 
Реализованы комментарии, лайки, личные сообщения и групповые чаты – всё, что нужно для коммуникации внутри сообщества. Есть разделы “Группы” (пользователь может вступать в интересующие сообщества, например “Бангкок Digital Nomads” или “Сёрферы Бали”), “События” (интеграция с Pulse – тут отображаются события, на которые пользователь подписан или участвует, с возможностью обсуждать их в чате) и “Люди рядом” (интеграция с Guru – на карте или списком можно увидеть поблизости PRO-участников, отметивших своё присутствие). 
В планах развития Space – внедрение системы репутации (отображение уровня пользователя, бейджи за вклад), а также более тесная интеграция с остальными модулями (например, прямо из Space можно будет принять участие в квесте или воспользоваться ваучером RF). 
Для нетехнических пользователей Space является самым понятным и привычным интерфейсом – это социальная сеть, где они могут делиться впечатлениями, задавать вопросы и получать поддержку от сообщества.

Интерфейсы PRO-кураторов и партнёров – для PRO-пользователей экосистема предоставляет дополнительные панели и инструменты в соответствующих модулях. 
Например, PRO, создающий квесты, имеет в Quest Asia панель управления квестами: там он может создавать новый квест, редактировать маршрут (добавлять точки на карте, описания заданий), просматривать статистику участников и их прогресс, а также видеть свой рейтинг квестмейкера. 
В Russian Friendly Asia для PRO-куратора доступна панель управления партнёркой: он видит список “своих” привлечённых бизнес-партнёров, их показатели (сколько ваучеров использовано, отзывы посетителей и т.п.), может помогать им заполнять информацию о заведении, запускать акции. 
Для бизнес-партнёров (владельцев заведений, жилья, сервисов) предусмотрен личный кабинет в RF Asia. Через него партнер управляет своей витриной: редактирует профиль места (описание, фото, адрес), создает и настраивает ваучеры (скидка или бонус, задаёт условия действия), просматривает статистику – сколько пользователей посмотрели его страницу, сколько скачали или использовали ваучер, отзывы клиентов. Интерфейс кабинета прост и адаптирован под неквалифицированных в IT людей (чаще всего им пользуются на ноутбуках или даже смартфонах владельцы кафе, отелей и т.п.).

Административные и сервисные интерфейсы – помимо пользовательских фронтендов, в экосистеме есть скрытые от широкого доступа админ-панели для модерации контента и поддержки. Например, у редакторов Atlas есть интерфейс для просмотра и утверждения правок статей (с функцией сравнения версий). Модераторы Space Asia имеют инструменты для мониторинга жалоб, бана спамеров, отбора контента в Blog. Технические администраторы Connect видят финансовые отчёты (сверки балансов, аномальные транзакции). Эти интерфейсы обеспечивают выполнение нефункциональных задач – контроль качества контента, безопасность сообщества и стабильность работы сервисов.

Все вышеперечисленные интерфейсы объединены единым аккаунтом пользователя: регистрация происходит, как правило, через Space Asia (или любой модуль, используя единую систему авторизации), после чего один и тот же логин позволяет пользоваться всеми сервисами. Пользователи могут видеть свои накопления Points/токенов в профиле (через Connect), независимо от того, в каком модуле они заработаны. Дизайн и язык всех интерфейсов ориентированы на русскоязычную аудиторию, но многие элементы (иконки, карта) интуитивно понятны и для англоговорящих. В планах – добавить переключение языков для расширения аудитории. Главное, что интерфейсы работают согласованно: переходя из одного модуля в другой, пользователь ощущает, что находится в одном пространстве Go2Asia, где всё устроено для его удобства.

## Ключевые микросервисы и их назначение

Back-end архитектура Go2Asia построена по микросервисному принципу: за функциональность каждого модуля или группы функций отвечает отдельный сервис (или несколько), взаимодействующий с другими по API. Рассмотрим ключевые микросервисы, составляющие “сердце” экосистемы, и их роли:

Guru Service – сервис гео-агрегации “рядом с тобой”. Он принимает координаты пользователя и собирает результаты из разных источников (Atlas, RF, Pulse, Rielt, Space, Blog) в единый список объектов поблизости. Guru Service осуществляет фан-аут запросов к API других модулей, затем нормализует ответы в универсальный формат карточек (EntityCard), сортирует их по расстоянию и другим факторам (например, события ближайшего времени выше в списке, RF-партнёры получают небольшой приоритет, популярные места – выше). Он также применяет фильтры (категория объекта, открыто ли сейчас, бесплатно или платно, наличие Wi-Fi, отметка Russian Friendly и т.д.). Для эффективности Guru Service кэширует результаты по областям (тайлам) – чтобы повторные запросы из того же района работали быстрее – и умеет работать в режиме деградации, выдавая последние известные данные, если какой-то из исходных сервисов временно недоступен. 
Важно: Guru Service сам не хранит контент, а только временно кеширует и агрегирует – источник правды о местах, событиях и пр. остаётся за соответствующими модулями. По сути, Guru Service предоставляет единое API для фронтенда Guru Asia (например, /v1/nearby), скрывая всю сложность интеграции многих систем за кулисами.

Content Service – сервис контента сообщества и UGC. Он отвечает за хранение и управление пользовательскими публикациями (особенно в Space Asia) и другими материалами, создаваемыми пользователями. Хотя Atlas, Pulse, Blog имеют свои базы данных для структурированного контента, Content Service управляет менее формализованным контентом: посты, комментарии, фотографии, возможно, личные заметки. Он обеспечивает создание, редактирование, удаление таких объектов, хранение медиафайлов (фотографий, видео) или интеграцию с CDN, а также модерационные атрибуты (флаги “пометить как спам”, статусы публикации). 
Feed Service тесно связан с Content Service: он формирует пользовательскую ленту в Space Asia, агрегируя посты от друзей, из групп и рекомендованные. Можно сказать, Content Service + Feed Service – это бэкенд социального модуля Space. Например, когда пользователь публикует пост, Content Service сохраняет его и уведомляет Feed Service, а тот уже разносит этот пост по лентам подписчиков с соответствующими приоритетами (новые, популярные и т.д.). Эти сервисы также обеспечивают механику отбора контента для Blog Asia (например, вычисляют, какие посты набрали много лайков, для возможного промо в блог). Для разработчиков важно, что Content Service предоставляет единый API для работы с записями, который может использоваться и другими модулями – скажем, Quest Service может создать запись-отчёт в Space после прохождения квеста, обратившись к Content Service.

User (Identity) Service – сервис управления пользователями и авторизации. Он хранит профили пользователей, данные аккаунтов, списки друзей/подписок, а также отвечает за вход/регистрацию (включая OAuth, соцлогины, двухфакторную аутентификацию, если нужно). Все модули доверяют User Service в вопросах идентификации: например, при вызове любого API передаётся токен пользователя (JWT), который выдан User Service и проверяется микросервисами (через общую auth middleware). 
User Service также содержит базовые сведения профиля: имя, аватар, роль (спейсер/VIP/PRO), языковые предпочтения и т.п. – для отдачи фронтендам. Данные приватности (настройки видимости профиля, гео-видимость в Guru, согласия) тоже хранятся тут. Он же управляет уровнем доступа: например, помечено ли, что пользователь – PRO (это влияет на доступ к PRO-функциям, таким как создание квеста или модерация). Таким образом, User Service – фундамент безопасности и персонализации во всей системе.

Referral Service – специализированный микросервис, реализующий реферальную программу (которая является частью Connect). Хотя Connect описывает бизнес-логику начислений, сам процесс отслеживания “кто кого пригласил” ведёт Referral Service. Он генерирует и хранит реферальные коды/ссылки, фиксирует цепочки “спонсор → реферал”, не допуская дубликатов или злоупотреблений. Когда новый пользователь регистрируется по чьей-то ссылке, Referral Service связывает их аккаунты (например, User B приглашён User A). Далее, при наступлении определённых событий (например, реферал достиг VIP или выполнил первое действие), Referral Service отправляет в Token Service событие для начисления бонусов спонсору. Сервис также может строить реферальное дерево (иерархию) для аналитики – сколько активных приглашений у каждого, кто самые успешные “сенсеи” (наставники). API примеры: GET /v1/connect/referrals/tree?sponsor_id=... для вывода структуры рефералов. Этот микросервис важен для маркетологов, чтобы отслеживать рост аудитории через приглашения.

Voucher Service – сервис управления ваучерами и спецпредложениями. Он является технической основой функциональности Russian Friendly ваучеров. Через Voucher Service бизнес-партнёр может создавать промо-офер: задать тип (например, “10% скидка” или “бесплатный десерт”), условия (срок действия, количество доступных активаций) и получить уникальный код или QR. Сервис хранит все выпущенные ваучеры, отслеживает их использование: когда пользователь получает ваучер (например, нажимает “Получить скидку” в Guru или Quest), Voucher Service помечает его как выданный, а когда отрабатывает – регистрирует как использованный. 
Интеграция: Guru Service при запросе “рядом” получает от RF Asia через Voucher Service информацию, есть ли у места активные ваучеры, и если да – включает эту информацию в карточку (например, тег или значок 🎁, и ссылку на получение). Quest Service может резервировать выдачу ваучера в награду за выполнение миссии. PRO-куратор через админку RF вызывает API Voucher Service для создания/редактирования предложений. Voucher Service обеспечивает и аналитику: сколько ваучеров активировано, конверсия просмотров в использование – эти данные отображаются партнёру и PRO-куратору для оценки эффективности кампаний.

Quest Service – сервис управления квестами и миссиями. Он поддерживает всю логику, связанную с созданием, прохождением и награждением за квесты. Quest Service хранит структуру квестов: список точек (связываясь с Atlas/Pulse/RF сервисами для их валидации), список заданий (миссий) и условия их выполнения. Например, квест может состоять из 5 миссий: “посети место X”, “сходи на событие Y”, “сделай фото с локации Z и выложи в Space” и т.д. – Quest Service следит за прогрессом, отмечая выполненные миссии у пользователя. Когда все миссии квеста выполнены, сервис генерирует событие quest_completed и отправляет его в Token Service для выдачи наград (Points, NFT, G2A). При этом логика расчёта вознаграждений настроена в Quest Service (например, за сложный квест можно прописать +200 Points, выдача определённого NFT, а PRO-создателю – % от Points участников или фиксированный G2A), но само начисление выполняет Connect/Token Service. 
Quest Service также занимается проверкой доказательств выполнения (если требуется, например, фото или чек-ин GPS) – пользователи через фронтэнд Quest загружают подтверждения, сервис сохраняет их и отсылает на модерацию PRO-организатору, если необходимо. 
Кроме того, Quest Service формирует рейтинги квестов и PRO: какие квесты популярнее, у какого PRO больше успешных участников – эти данные могут идти в Connect для присвоения достижений.

Rielt Service – сервис объявлений жилья (можно назвать Listing Service). Он управляет данными о недвижимости и аренде: объекты (квартира, дом), их характеристики (цена, расположение, удобства), статусы (свободно/занято, краткосрочно/долгосрочно) и взаимодействие между арендодателем и арендатором. Когда владельцы/посредники (часто PRO или RF-партнёры) добавляют новое объявление через Rielt.Market интерфейс, Rielt Service сохраняет запись, геокодирует адрес (связывает с городом/районом Atlas), отмечает, что владелец – RF-партнёр или PRO-посредник, если применимо. API Rielt предоставляет методы поиска: например, GET /v1/listings?city=Bangkok&type=short_term для списка краткосрочных предложений, GET /v1/listings/nearby?lat=... для поиска жилья рядом, а также получения деталей конкретного объявления. 
Интеграция с Guru: Rielt Service по запросу Guru Service отдаёт ближайшие объекты, которые затем Guru включает в общий список “рядом”. Пользователь, кликнув объект жилья, может быть перенаправлен на детальную страницу Rielt (например, rielt.go2asia.space/listings/{id}) для связи с владельцем или бронирования. 
Также Rielt Service обрабатывает заявки на аренду (Rent Request): когда пользователь нажимает “Связаться/Забронировать”, создаётся заявка (которую видит владелец в кабинете), и дальше они могут связаться (либо через встроенный чат Space, либо обмен контактами внутри системы). Этот сервис играет роль сервисной шины для рынка жилья, стремясь максимально удержать взаимодействие внутри экосистемы (сделки, отзывы, оплата при расширении функциональности).

Media Service – сервис, обеспечивающий публикацию и хранение статей Blog Asia. Он работает наподобие headless CMS: редакция через него публикует контент, а фронтенд Blog запрашивает данные через API. Также Media Service может получать контент от Space (например, конечный текст UGC-поста, отобранного в блог) или от партнеров (PRO могут отправлять свои статьи, которые попадают в очередь на модерацию). Этот сервис управляет категориями, тегами, SEO-метками (slug для урлов), архивами. Он обеспечивает версионирование (черновик → опубликовано) и планирование публикаций (schedule). 
Особенность: так как Blog Asia – это часть экосистемы, Media Service связывает статьи с другими сущностями: например, статья имеет поля “city” или “place” для привязки к Atlas (что позволяет показывать “актуально в этом городе” новости). Кроме того, он может генерировать анонсы в соцсети (в Space) при выходе новой статьи.

Points Service и NFT Service – компоненты стека Connect/Token. Points Service может рассматриваться как подмножество Token Service или отдельный модуль, оптимизированный для частых транзакций с очками (Points). Он хранит операции по Points, выполняет их мгновенное начисление/списание по событию. NFT Service управляет выдачей NFT-бейджей: за какие достижения какая NFT положена, какой уровень у пользователя. 
В некотором смысле, эти сервисы можно логически объединить в Token Service, но по архитектуре выделение отдельного Points Service помогает масштабировать высоконагруженную часть (начисление большого количества мелких транзакций), а NFT Service – отделяет работу с метаданными наград. Они тесно связаны: например, при событии Quest Service “quest_completed” сначала Points Service начислит Points участнику, затем NFT Service проверит условия выдачи бейджа “Пройдено 5 квестов” и, если достигнут порог, пометит выдачу NFT. Эти сервисы работают прозрачно для Connect: Connect просто получает уже готовые данные о балансах и списках наград для отображения пользователю.

Blockchain Gateway Service – описанный выше шлюз к блокчейну. Его микросервисное API используется исключительно другими сервисами, поэтому в пользовательских сценариях он не фигурирует напрямую. Тем не менее, с точки зрения инфраструктуры это критичный компонент, обеспечивающий безопасное взаимодействие с внешней сетью TON. В нём сконцентрированы особенности вроде работы с приватными ключами, мониторингом транзакций и т.д. (см. предыдущий раздел). Для полноты картины разработчики разделяют ответственность: Token/Points/NFT Service отвечают за бизнес-логику экономики, Gateway Service – за техническую реализацию on-chain операций. Такой раздел принципиально важен для безопасности.

Перечисленные микросервисы взаимодействуют друг с другом через чётко определённые REST API (а в некоторых случаях и через очереди событий), образуя гибкую, масштабируемую систему. Благодаря микросервисной архитектуре, каждый модуль Go2Asia можно развивать и масштабировать независимо (например, при росте числа пользователей соцсети можно выделить больше ресурсов Content/Feed сервисам, не затрагивая, скажем, Atlas). Кроме того, сбои в одном сервисе минимально влияют на другие: если, например, выйдет из строя Pulse Service, то Guru Service вернёт результаты без событий (но места, жильё и т.д. всё равно покажет, используя кеш и ответы других сервисов). Таким образом достигается устойчивость и отказоустойчивость экосистемы.

## Взаимосвязи между модулями

Несмотря на разделение на модули и сервисы, Go2Asia спроектирована как единая экосистема, где все части взаимодополняют друг друга. Ниже мы рассмотрим основные взаимосвязи (потоки данных и функциональные зависимости) между модулями:

Guru ← остальные модули: Guru Asia получает данные практически от всех контентных модулей, чтобы сформировать “картину вокруг пользователя”. В запросе “рядом” Guru агрегирует: места из Atlas (включая RF места), события из Pulse, жильё из Rielt.Market, людей из Space, новости из Blog. Таким образом, Guru зависит от актуальности данных этих модулей. Обратная связь – Guru даёт им трафик: пользователь, увидев карточку места или события, переходит в соответствующий модуль для деталей.

Atlas – база для всех: Atlas Asia выполняет роль общего справочника. Другие модули не дублируют информацию о географии, а обращаются к Atlas. Например, Pulse хранит событие с ссылкой на место проведения – это связь с place_id из Atlas (или RF). Rielt при сохранении объявления отмечает city и district по Atlas, чтобы можно было фильтровать по городу. Blog статьи могут быть привязаны к городу или месту (для контекстного отображения “статьи об этом месте”). Таким образом, Atlas ↔ все контентные сервисы: он предоставляет им справочные данные, а они его дополняют отзывами и живым контекстом (например, рейтинг места формируется по отзывам из Space/RF). Atlas также предоставляет API поиска по местам, которые могут использовать внешние интеграции (например, чат-боты, если таковые появятся).

Pulse – события везде: Модуль событий Pulse Asia генерирует контент, используемый в нескольких местах. Guru показывает события рядом. Blog получает материал для репортажей – прошедшие яркие события могут становиться основой статей, либо упоминаются в хронике. Connect учитывает активность PRO-организаторов событий: например, если PRO проводит много популярных мероприятий, ему могут начисляться Points или присваиваться бейджи (через события Pulse → Connect). Кроме того, данные Pulse могут использоваться для аналитики турпотока: система может собирать статистику посещаемости событий, популярности локаций через события – эта информация важна и для партнёров (какие мероприятия привлекают туристов) и для развития контента Atlas/Blog.

Blog ↔ Space: Между Blog Asia и Space Asia двунаправленная связь. Space является источником UGC-контента для блога: лучшие посты из персональных лент Space публикуются в Blog (с разрешения автора и при одобрении модераторов). Обратно, Blog стимулирует активность в Space: увидев статью, пользователи обсуждают её в Space, подписываются на авторов-PRO, вдохновляются создавать свои посты. По сути, Blog – это витрина и медиа-надстройка над социальным пластом Space. Эта связка усиливает сообщество: участники чувствуют, что могут внести вклад, который будет замечен на официальном уровне.

Space ↔ RF: Space Asia (соцсеть) и Russian Friendly (бизнес-партнёры) пересекаются через отзывы и взаимодействие с партнёрскими точками. После того как пользователь посетил RF-место (например, ресторан с ваучером), он может оставить отзыв в виде рассказа в Space (возможно, с хэштегом места или через встроенную форму) – эти данные поступают в RF Asia, улучшая профиль партнёра. Также Space служит площадкой, где PRO-кураторы могут обсуждать с пользователями партнёрские услуги, собирать обратную связь. Более того, поиск людей рядом в Space может показать PRO-кураторов, которые курируют ближайшие RF места, что позволяет новичку обратиться к ним за советом напрямую.

RF ↔ Quest: Russian Friendly контент (места, спецпредложения) активно используется в Quest Asia. Многие квесты, особенно коммерческие, строятся вокруг посещения партнёрских локаций RF. Например, “Гастро-тур по русским ресторанам Бали” – квест, который проводит PRO вместе с несколькими RF-ресторанами, предлагающими скидки участникам. PRO-куратор, создающий квест, включает в него точки-партнёры и может привязать выдачу ваучеров из RF как награду (или как часть задачи – “получи скидку и попробуй фирменное блюдо”). RF Asia в свою очередь получает от квестов трафик новых посетителей, а PRO – вознаграждение за вовлечение пользователей к партнёру. Эта интеграция помогает вовлечь бизнесы в игровой формат продвижения.

Quest ↔ Connect: Quest Asia является значимым генератором событий для экономики Connect. Практически каждый пройденный квест – это несколько начислений: Points участнику, Points или G2A автору-PRO, NFT бейдж участнику за достижение, реферальный бонус спонсору. Все эти начисления идут через Connect (Token Service). В то же время Connect мотивирует участвовать в квестах: имея Points, пользователь может “купить” доступ к особому квесту или улучшить снаряжение (в будущем игровом смысле), а наличие NFT может давать преимущества (например, VIP-спейсер с определённым NFT может видеть эксклюзивные миссии). То есть Quest и Connect образуют цикл: квесты дают очки – очки позволяют больше участвовать и получать новые уровни, что побуждает проходить новые квесты.

Connect ← все модули: Как отмечалось, Connect Asia принимает события практически от всех модулей. Например:

Новая публикация в Space → событие content_created → Points автору.

Пост попал в Blog → событие content_featured → Points и бейдж автору.

PRO привлёк нового RF-партнёра → событие от RF Asia → G2A токены куратору.

Завершён квест → Quest Service → Points/NFT участнику, Points автору.

Пользователь посетил RF-место с ваучером → RF Service отправит событие → Points пользователю, Points PRO (отражение заслуги).

Успешная сделка аренды на Rielt → событие (пока гипотетически) → Points обеим сторонам и PRO-посреднику. Таким образом, Connect собирает “эту метрику жизни экосистемы” и конвертирует её в осязаемые поощрения. Без взаимодействия с другими модулями Connect не имеет смысла – он лишь реагирует на их сигналы.

Token Service ↔ Gateway: Внутренний экономический сервис Token Service тесно связан с Blockchain Gateway для реализации токеномики. Когда на уровне Connect/Token Service принимается решение о проведении on-chain транзакции (например, обменять Points на G2A токены с выводом на блокчейн), Token Service зовёт Gateway с командой (mint G2A, transfer и т.д.). Gateway выполняет операцию в сети TON и возвращает подтверждение (callback), после чего Token Service обновляет оффчейн-баланс пользователя. Эти два сервиса функционируют как связка “мозг и руки”: Token Service – мозг (считает, что и сколько нужно перевести), Gateway – руки (непосредственно совершает действие в блокчейне). Такое разделение гарантирует безопасность: Gateway не знает бизнес-логики, он только выполняет подписанные задачи, а Token Service не хранит приватных ключей, полностью доверяя Gateway в вопросах исполнения. Вместе они обеспечивают плавное сосуществование оффчейн-очков Points и настоящих крипто-токенов G2A/NFT.

Графически все эти связи можно представить слоями: контентный слой (Atlas, Pulse, Blog) обеспечивает знания, события, медиа; социальный слой (Space, Guru) связывает пользователей и даёт навигацию; партнёрский слой (RF, Rielt) интегрирует бизнес-сервисы; мотивационно-игровой (Quest, Connect) стимулирует активность; инфраструктурный (Token Service, Gateway) отвечает за расчёты и on-chain операции. Модули обмениваются данными: Guru агрегирует от контентных, Quest объединяет контентный+партнёрский+социальный+экономический, Connect получает от всех, RF связан с соц/игрой, и т.д.. Такая плотная интеграция делает Go2Asia единым организмом: участники получают цельный опыт, даже не подозревая, что за ним стоят десятки сервисов.

## Модели данных на уровне API

Для обеспечения согласованности между разными сервисами и удобства разработки фронтендов, в Go2Asia продуманы унифицированные модели данных для основных сущностей, которые используются в API. Ниже опишем ключевые типы данных (модели), которые циркулируют между клиентами и сервисами:

Универсальная карточка сущности (Entity Card): Многие API (особенно агрегаторы вроде Guru или поиск Atlas) возвращают результаты в виде унифицированных карточек. Карточка содержит основной набор полей, достаточный для отрисовки на карте или списке:

id – уникальный идентификатор (часто с префиксом модуля, например "atlas_123" или "pulse_987").

type – тип сущности: place (место), event (событие), stay (жильё), person (человек), news (новость/пост).

title – название объекта (например, имя места или заголовок события).

subtitle – краткое описание или подзаголовок (например, адрес места, дата/время события).

location – координаты (lat, lng), а иногда и дополнительная инфо: город, район.

distance_m – дистанция от заданной точки (если запрос гео-поиска).

eta_walk_min – расчетное время пешком (актуально для Guru, если расстояние известно).

open_now – флаг, открыт ли объект сейчас (для мест с графиком работы, вычисляется на основе времени).

tags – массив тэгов/характеристик (например, ["wifi", "coffee", "free"]).

badges – объект с специальными метками: например, RF (Russian Friendly) или PRO – булевы значения, обозначающие статус объекта.

time_window – для событий: время начала и конца события (ISO-формат).

price – для жилья или платных мероприятий: цена (число и валюта) и период/единица (например, {"amount":1500,"currency":"RUB","period":"night"}).

photos – список URL фотографий (как миниатюр).

actions – ссылки на связанные действия: details_url (где посмотреть полную страницу объекта), book_url (например, ссылка на бронирование жилья), join_url или chat_url (например, ссылка вступить в чат по событию или написать пользователю). Это позволяет фронтенду сразу знать, куда вести пользователя при взаимодействии.

source – указание источника: из какого модуля пришли данные и внутренний id, например {"module":"atlas","id":"123"}.

score – числовой рейтинг/приоритет, используемый для сортировки (высчитывается Guru Service на основе разных факторов).

Такой единый формат существенно упрощает отображение разнородных объектов. Например, на карте Guru все объекты – места, события, люди, жильё – представляются одной структурой с общими полями (название, координаты и т.д.), различаясь лишь типом и некоторыми полями. Пример: карточка кафе может иметь type:"place" и поле open_now, а карточка события – type:"event" и поля времени. Но фронтенд обрабатывает их схожим образом (отображает пин на карте, название и дистанцию в списке).

Сущность пользователя (User Entity): Пользовательская модель включает:

user_id – уникальный идентификатор пользователя (например, u123).

Основная профильная информация: имя/никнейм, аватар (URL изображения), возможно, короткое био.

Роль и статус: указание роли (спейсер/VIP/PRO) и любых статусных меток (например, verified для PRO, если прошёл проверку).

Показатели участия: текущий уровень или рейтинг (например, уровень VIP 2, количество Points, которыми располагает – если API решит это отдавать).

Социальные связи: счетчики друзей/подписчиков, групп.

В API Space Asia или Connect могут присутствовать методы получения профиля (GET /v1/users/{id}), возвращающие подобную структуру. Например, при загрузке профиля PRO-куратора, чтобы отобразить бейдж PRO и статистику. Privacy: детальность информации зависит от прав – для чужого профиля можно отдавать сокращённые данные (имя, фото, статус), а для своего – полную информацию. Важный аспект: персональные данные хранятся минимально и отдаются ограниченно (подробнее в разделе безопасности/приватности). В большинстве случаев внутренние сервисы оперируют user_id без привязки к PII, а фронтенд подставляет имя/аватар через отдельный запрос к User Service.

Модель места (Place Entity): Модель места, как хранится в Atlas (и частично дублируется в RF для партнёрских мест), включает:

id или slug – уникальный идентификатор или человекочитаемый код.

name – название места.

description – описание (история, детали, в wiki-формате).

location – структура с адресной информацией: координаты, страна, город, район, адрес строки.

categories – типы места (категории, например “restaurant”, “coworking”, “attraction” и т.д.).

tags – доп. теги (например, “wifi”, “vegan” и т.п.).

rf_badge – булево, является ли место Russian Friendly (часто синтезируется: если есть запись в RF Asia, то true).

photos – галерея изображений места.

working_hours – график работы (для расчёта open_now).

rating и reviews_count – средний рейтинг и число отзывов (если есть, отзывы хранятся в RF или Space).

amenities – список удобств/особенностей (для жилья или специфичных мест: напр. парковка, детская зона).

Связи: ссылки или id связанных сущностей (например, partner_id если это партнёр RF, или atlas_id если это general Atlas entry для RF места).

Atlas API предоставляет методы получения списков мест (GET /v1/places?city=Bangkok&types=cafe,park возвращает массив таких сущностей) и конкретного места (GET /v1/places/{id}). Данные мест используются всюду – они достаточно подробны, но для быстрого отображения срезаются до карточек (см. выше).

Модель события (Event Entity): Хранится в Pulse Asia. Включает:

id (и возможно удобочитаемый slug).

title – название события.

subtitle – краткое описание или теглайн (тема события).

description – полное описание (что, где, программа).

type – тип мероприятия (встреча, экскурсия, фестиваль, онлайн и т.д.).

category_tags – тематика (например, музыка, еда, IT, йога, семья и т.п.).

organizer – информация об организаторе: ссылка на профиль (PRO или Partner), имя организатора.

start_time, end_time, timezone – время проведения события.

location – место проведения: вложенный объект с названием места (может быть указано “Online” или конкретное место с адресом), и ссылкой на place_id в Atlas для оффлайн событий.

city, country – для фильтрации и привязки.

price – сведения о цене (например, amount, currency, is_free).

lang – язык мероприятия (если применимо).

capacity – при необходимости: максимальное число участников и текущее зарегистрированных.

rf_badge – флаг, если организатор является RF-партнёром (событие от бизнес-партнёра).

cover и gallery – изображения для афиши.

status – статус события (запланировано, активно, прошло, отменено).

source – откуда поступила информация: добавлено ли редакцией, партнером, через API или сообществом.

Метаданные модерации: кто создал, кто проверил, время обновления.

Эта модель отражается в API Pulse, например GET /v1/events/nearby?... возвращает список events с подобными полями. На стороне клиента для отображения на карте/списке из нее опять же берутся поля для карточки (название, время, расстояние), а для страницы события – всё подробно.

Модель объявления жилья (Listing Entity): Хранится в Rielt.Market. Поля:

id – идентификатор объявления (например, rl_888).

type – тип аренды: short_term (краткосрок) или long_term (долгосрок), или продажа (если вдруг).

title – заголовок, кратко описывающий жильё (например, “Студия рядом с пляжем Камала”).

description – подробное описание жилья, условий.

price – объект с ценой (сумма, валюта, период: ночь/месяц и т.п.).

location – геоинформация: lat/lng, город, район.

rf_badge – флаг RF (если объект от Russian Friendly партнёра).

amenities – список удобств (Wi-Fi, кондиционер, кухня, бассейн и т.п.).

photos – массив URL фотографий объекта.

host – информация о хозяине/агенте: имя (может помечаться “Anna PRO” если PRO-посредник), отметка verified (если проверен PRO или RF).

score – рейтинг/приоритет (например, от алгоритма сортировки или доверия).

actions – ссылки: details_url на полную страницу объявления, request_url для отправки заявки на бронь/связи с владельцем.

API Rielt предоставляет списки объявлений (с фильтрами по городу, цене, типу аренды) и ближайшие объявления (по координатам) – эти ответы возвращают сокращённую информацию (часть полей, как в примере выше). Для детальной страницы (GET /v1/listings/{id}) вероятно отдаются все поля, включая описание и контакты (или методы связи). Пример: указанный выше JSON показывает результат /v1/listings/nearby – он содержит все ключевые поля, необходимые для карточки жилья.

Модель квеста (Quest Entity): В Quest Asia квест хранится как сложная сущность:

id – идентификатор квеста.

title, description – название квеста и его описание (что предстоит сделать, сюжет).

creator_id – идентификатор создателя (PRO-спейсера).

locations – массив точек (мест) связанных с квестом: каждая точка может содержать ссылку на Atlas/Pulse/RF объект (например, place_id или event_id).

missions – список миссий/заданий: каждое задание – отдельная структура (см. ниже).

rewards – перечень наград за квест (набор Points, NFT или G2A, которые будут выданы).

status – статус квеста (активен, черновик, завершён и т.п.).

meta – метаданные: длительность прохождения, город, категория квеста (например, “туристический/гастрономический”).

Модель миссии (Mission): Каждая миссия внутри квеста содержит: - type – тип задания: например, check-in (просто посетить место), photo (сделать фото), quiz (ответить на вопрос), visit (посетить и отметить, возможно через QR), comment (оставить отзыв/пост). - target_id – идентификатор целевого объекта задания, если применимо (например, id места из Atlas или события из Pulse, либо id поста из Space, если нужно создать пост). - reward_points – количество Points, начисляемых за выполнение этой миссии. - require_proof – булево, требуется ли доказательство выполнения (например, загрузить фото, отсканировать QR на месте, подтвердить GPS).

Эти модели определяют, как Quest Service отдает данные фронтенду. Например, GET /v1/quests/{id} вернет JSON с полями, перечисленными выше, включая вложенный массив missions. Клиентское приложение Quest Asia на основе этого строит интерфейс: карту маршрута (точки из locations), список заданий с описанием (из missions), таймер или прогресс-бар (из meta.duration). Когда пользователь выполняет миссию, клиент отправляет POST /v1/quests/{id}/checkin или другой соответствующий метод, содержащий mission_id и подтверждение (фото или код) – Quest Service проверяет и помечает миссию выполненной. В конечном счёте, при завершении всех миссий, Quest Service меняет статус квеста для пользователя и инициирует выдачу наград через Connect.

Модели экономики (Points, G2A, NFT): Хотя это скорее внутренние модели, на уровне API Connect/Token некоторые представлены. Например:

Wallet Summary: метод GET /v1/wallet/summary?user_id=... возвращает объект с балансами: {"points": 1234, "g2a": 56.78, "nfts": [ ... список NFT-бейджей... ]}. Модель NFT-бейджа может включать тип (за что получен, например “Level VIP” или “Quest Master”), уровень/редкость и, возможно, ссылку на метаданные (если это on-chain NFT).

Ledger Entry: внутренняя запись транзакции – используется в Token Service для аудита и может частично отдаваться через API. Включает поля: idempotency_key (для дедупликации), user_id, asset (тип актива: POINTS, G2A или NFT), delta (изменение баланса), meta (описание операции), ts (timestamp). Например, такая структура может возвращаться через GET /v1/ledger?user_id=... для просмотра истории операций пользователя.

Rule/Conversion: правила начисления и конверсий – обычно не выдаются через публичный API, но описывают конфигурацию экономики. Например, rule { trigger: "quest_completed", effect: "+100 POINTS" } или запись конверсии Points→G2A с курсом и лимитами. Эти модели скорее скрыты внутри Token Service, но админы могут их управлять через специнтерфейс.

Обобщая, API Go2Asia стремятся к единообразию и расширяемости: ключевые сущности представлены в JSON-формате с понятными полями. При этом используется принцип HATEOAS – в действиях (actions) даются URL-ы на связанные ресурсы, что делает интеграцию фронтендов проще (клиент знает, куда перейти за деталями или выполнением действия). В разных модулях сущности могут дополняться специфичными полями, но общий минимальный формат (как EntityCard) позволяет их объединять в единых списках. Это особенно важно для модулей-агрегаторов (Guru, поиск Atlas), где пользователю выдаётся смесь разных типов объектов.

## Примеры API-контрактов и шаблонов URL

Архитектура API в Go2Asia следует REST-подходу с версионированием (/v1/...) и понятными ресурсными URL. Ниже приведены примеры API-контрактов (эндпоинтов) и их предназначения:

Atlas API (геоконтент):
GET /v1/countries – получить список стран, поддерживаемых в Atlas (например, для отображения или выбора страны).
GET /v1/cities?country=Thailand – список городов в указанной стране. Например, вернёт основные города Таиланда с их slug и названием.
GET /v1/places?city=Bangkok&types=cafe,park – поиск мест в городе Бангкок по категориям (кафе и парки). Такой запрос вернёт массив мест (в формате, описанном выше) ограниченного типа.
GET /v1/places/{id} – получение полной информации о месте по его ID или slug. Используется для страницы места.
GET /v1/search?q=тайская кухня – глобальный поиск по Atlas (и возможно по другим модулям) по ключевым словам. Возвращает результаты (места, статьи, события), соответствующие запросу.

Guru API (агрегация рядом):
GET /v1/nearby?lat={lat}&lng={lng}&radius_m=1000&types=place,event,stay – получить объекты в радиусе (в метрах) от заданной точки. Можно указать фильтр по типам: в данном примере – места, события и жильё. Ответ – объект { items: [ … ] }, где каждый элемент – универсальная карточка объекта. Этот эндпоинт используется на главном экране Guru Asia.
GET /v1/nearby/map?lat=...&lng=...&radius_m=... – вариант для карты: может возвращать кластеры и сэмплы объектов, оптимизированные для отображения большого количества точек.
GET /v1/suggestions?q=кофе&lat=...&lng=... – подсказки (autocomplete) по поиску рядом. Например, при вводе “кофе” вернёт несколько популярных кофеен поблизости.
(Guru Service внутренне также вызывает такие URL модулей, как /atlas/nearby, /pulse/nearby, но наружу это не экспонируется – внешние клиенты работают через единый /nearby.)

Pulse API (события):
GET /v1/events?city=Bangkok&date=today – список событий в Бангкоке на сегодня. Можно менять параметры (date=tomorrow или диапазоны дат).
GET /v1/events/nearby?lat={lat}&lng={lng}&radius_m=1000 – события в заданном радиусе от точки (использует геоиндекс). Это то, что вызывает Guru для событий.
GET /v1/events/{id} – детали конкретного события, включая все поля события.
POST /v1/events (auth required) – создание нового события (для PRO или партнеров). Требует авторизации, а в теле JSON с полями события. После создания событие может требовать модерации, прежде чем появиться всем.
PATCH /v1/events/{id} – редактирование события (для редакторов или модераторов).

Rielt.Market API (жильё):
GET /v1/listings?city=Phuket&type=short_term&price_max=50000 – поиск объявлений жилья на Пхукете, тип “краткосрочная аренда”, ценой до 50k (в локальной валюте). Вернёт список объявлений, удовлетворяющих фильтрам.
GET /v1/listings/nearby?lat={lat}&lng={lng}&radius_m=1000 – объявления жилья в радиусе (для Guru).
GET /v1/listings/{id} – получить подробности объявления (включая контакты для связи или форму заявки).
POST /v1/listings – разместить новое объявление (требует авторизации как хозяин/PRO).
POST /v1/requests – отправить заявку на аренду (auth: renter). Например, когда пользователь заинтересован, он заполняет форму, и у владельца появляется эта заявка.

Space/Community API:
(Примечание: подробный API Space не был в явном виде в исходном документе, но можем предположить)
GET /v1/feed?user_id=me – получить ленту текущего пользователя (микс постов).
GET /v1/users/{id}/posts – получить посты конкретного пользователя.
POST /v1/posts – опубликовать новый пост (auth).
PATCH /v1/posts/{id} – отредактировать/удалить свой пост.
GET /v1/groups/{id} – получить инфо о группе и недавние посты.
(Также API для комментариев, лайков и т.п., которые опустим здесь.)

Quest API:
GET /v1/quests?city=PhuQuoc – список доступных квестов в указанном городе. Может фильтровать по категории или уровню.
GET /v1/quests/{id} – полная информация о квесте (структура: точки, задания, награды).
POST /v1/quests/create – создать новый квест (только для PRO). В теле – описание квеста, список точек/миссий. Новый квест, вероятно, сначала черновик.
POST /v1/quests/{id}/complete – отметить квест пройденным (вызывается, когда пользователь завершил все миссии – возможно, не требуется вручную дергать, а система сама).
POST /v1/quests/{id}/checkin – прогресс по квесту: отметка выполнения одной миссии. Тело запроса содержит данные выполнения (например, mission_id, доказательство).
GET /v1/quests/rewards?user_id=... – получить историю наград пользователя за квесты (что он заработал).

Connect/Token API (экономика):
GET /v1/wallet/summary?user_id={uid} – получить суммарный баланс пользователя (Points, G2A, NFT). Используется в приложении для отображения “кошелька”.
GET /v1/connect/transactions?user_id={uid} – история транзакций (последние начисления/списания).
GET /v1/connect/badges?user_id={uid} – список полученных пользователем бейджей/NFT.
POST /v1/conversions/points-to-g2a – запрос конвертации Points в G2A токены. В теле указывается сколько поинтов конвертировать. Этот запрос инициирует процесс: Token Service спишет Points, начислит off-chain G2A и затем запустит on-chain mint через Gateway (см. ниже).
POST /v1/events/ingest – (внутренний) для отправки событий активности. Например, Space может вызвать POST /v1/events/ingest с JSON { user_id: u123, action: "post_created", meta: {post_id: p789} }, Token Service проверит правила и начислит Points. В обычной документации этот эндпоинт может быть скрыт, т.к. события поступают по шине, но он упомянут для понимания.
GET /v1/leaderboard?metric=points&period=weekly – (гипотетический) получить лидерборд пользователей по очкам за неделю.

Blockchain Gateway API: (большинство методов Gateway – внутренние, но для прозрачности опишем)
POST /v1/wallets/link – привязать внешний TON-кошелек к аккаунту (тело: user_id, ton_address, signature).
POST /v1/g2a/mint – создать on-chain транзакцию выпуска токенов G2A. Обычно вызывается Token Service с параметрами (task_id, user_id, amount, reason).
POST /v1/g2a/transfer – перевод G2A с кастодиального счета на внешний адрес.
POST /v1/g2a/burn – сжигание токенов (например, списать с пользователя на on-chain, если он отправил обратно на платформу).
POST /v1/nft/mint – выпустить NFT на блокчейне (зафиксировать бейдж).
POST /v1/nft/upgrade – апгрейд NFT (например, повысить уровень бейджа на блокчейне).
GET /v1/tx/{task_id}/status – проверить статус выполнения задачи (PENDING, CONFIRMED и т.п., с хэшом транзакции если доступен).
Все вызовы Gateway требуют аутентификации сервисов (не доступны публично). Пользовательский интерфейс взаимодействует с Gateway только опосредованно, через Connect/Token.

Приведённые примеры URL показывают, что API организованы по доменам модулей: /v1/events/... – Pulse Asia, /v1/places/... – Atlas Asia, /v1/listings/... – Rielt.Market, /v1/quests/... – Quest Asia, /v1/connect/... – Connect, и т.д. В реализации они могут быть распределены по разным поддоменам (например, api.go2asia.atlas, api.go2asia.pulse), либо находиться под одним API-шлюзом с маршрутизацией по префиксу. Важна единообразная версия и стиль – это облегчает интеграцию и документацию.

Пример сценария (сквозь API): Пользователь открывает приложение Guru Asia – оно делает GET /v1/nearby?lat=...&lng=..., получает список карточек. Пользователь выбирает, скажем, событие – клиент видит в actions.details_url ссылку на веб-страницу Pulse Asia (pulse.go2asia.space/events/{slug}) или может напрямую дернуть GET /v1/events/{id} для отображения внутри приложения. Решив пойти на событие, пользователь нажимает “Принять участие” – это может открыть чат Space (ссылка join_url ведёт например на /space/chat/{id}), где идет обсуждение мероприятия. После мероприятия он открывает Space Asia и пишет пост-отзыв, API: POST /v1/posts с содержанием. Этот пост получает лайки, события post_liked идут в Connect, и автору начисляются Points. Автор, накопив достаточно Points, заходит в Connect (кошелек) – GET /v1/wallet/summary – видит баланс и решает конвертировать Points в G2A, отправляет POST /v1/conversions/points-to-g2a. Через некоторое время (секунд) Connect отображает, что токены доступны и предлагает вывести их на TON – пользователь подтверждает, это вызывает внутренне POST /v1/g2a/mint на Gateway. В итоге пользователь получает на свой TON-кошелёк G2A, о чем Connect оповестит (через GET /v1/tx/status можно показать статус транзакции). Таким образом, различные API-эндпоинты работают совместно, обеспечивая сквозной пользовательский опыт.

Экономика экосистемы: Points, G2A, NFT и уровни пользователей

Одним из центральных элементов Go2Asia является двухконтурная экономика вознаграждений, призванная стимулировать участие и рост сообщества. Она включает внутренние баллы Points, крипто-токен G2A и невзаимозаменяемые токены (NFT-бейджи), а также систему уровней пользователей. Расскажем об этих компонентах подробнее:

Эволюция пользователя в экосистеме Go2Asia: от гостя к спейсеру, VIP и PRO, с разблокировкой новых возможностей и вознаграждений на каждом этапе.

Points (баллы) – внутренняя валюта экосистемы Go2Asia. Points начисляются пользователям за разнообразную активность: создание контента (посты, отзывы), участие в событиях, прохождение квестов, приглашение друзей, помощь партнёрам и т.д. Баллы существуют только оффчейн (на внутренних сервисах) и используются как единица поощрения и геймификации. Ими можно расплачиваться внутри платформы: например, выкупать особые ваучеры или доступ к премиум-квестам, участвовать в акциях. Points легко и быстро начисляются без комиссии, курс по отношению к “реальным” ценностям задаётся правилами (например, 1 лайк = 1 Point, завершение квеста = 100 Points). Они похожи на очки опыта или лояльности. Назначение Points: мгновенные вознаграждения за активность и игровой прогресс пользователей. Учёт Points ведётся в оффчейн-системе (Token Service), что позволяет гибко менять правила начисления и быстро обрабатывать тысячи событий.

G2A (токен) – это цифровой токен Go2Asia на базе блокчейна TON, представляющий ценность в экономике экосистемы. G2A предназначен главным образом для вознаграждения ключевых участников (например, PRO-кураторов) и обеспечения реальной ценности накопленным вознаграждениям. G2A имеет ограниченную эмиссию и может выводиться пользователями на внешние кошельки TON (то есть обладает ликвидностью). Внутри системы G2A учитывается как отдельный баланс (off-chain), который обновляется через конвертации Points → G2A или начислением за определённые достижения. Например, PRO, пригласивший ресторан в RF и помогший ему, может получить некоторое количество G2A в квартал; или организатор очень популярного квеста – долю от собранных Points участников в виде G2A. 
Важное свойство: G2A существует в двух контурах – оффчейн баланс (на счету пользователя в Connect) и ончейн токен на TON. Пока пользователь хранит G2A внутри платформы, транзакции не затрагивают блокчейн (так удобнее оперировать мелкими суммами и мгновенно начислять). Но пользователь может “вывести” токены на блокчейн – тогда Token Service через Blockchain Gateway выполняет mint: G2A появляется на его TON-адресе, а оффчейн-баланс уменьшается. Экосистема устанавливает ограничения (например, минимальное количество для вывода, лимиты в месяц) чтобы контролировать токеномику. 
Назначение G2A: выступать в качестве “капитала” и мотивации для лидеров сообщества, а также соединять экономику Go2Asia с внешним крипто-миром (например, G2A может торговаться на рынке, использоваться для доступа к внешним партнерским сервисам, или в будущем для участия в DAO Go2Asia). G2A-награды отражают более весомый вклад, чем Points, и обычно даются реже.

NFT-бейджи и достижения – невзаимозаменяемые токены, представляющие достижения, статус или особые привилегии пользователя. В Go2Asia NFT используются как бейджи: например, бейдж VIP Spacer подтверждает, что пользователь достиг VIP-уровня, бейдж Explorer Level 5 – что он выполнил 5 квестов, PRO Moderator – что он является проверенным модератором, и т.п. Большинство таких бейджей ведутся оффчейн в системе (особенно уровни, которые могут обновляться часто). Однако некоторые редкие или почётные бейджи могут выпускаться как NFT на блокчейне – например, “Основатель сообщества”, “Победитель конкурса Go2Asia” – которые ограничены по количеству и могут иметь коллекционную ценность. 
NFT-бейдж может давать бусты в системе: например, обладатель NFT уровня VIP может получать +10% Points за все действия, или специальный NFT-предмет может открывать доступ в закрытую группу/мероприятие. 
Назначение NFT: во-первых, геймификация (людям приятно собирать достижения, видеть свой “ранг”), во-вторых, новые экономические возможности (в будущем возможен торговый маркетплейс достижений или их использование в партнерских программах). Все NFT (как оффчейн, так и ончейн) учитываются в Connect; on-chain выпуск/апгрейд происходит через Gateway, как описано выше. Пример: после прохождения сложного квеста пользователь получает оффчейн NFT “Jungle Explorer”, а если он прошёл все 10 таких квестов – ему предлагают mint on-chain NFT “Jungle King” через Ton (это ценная награда ограниченного выпуска).

Уровни пользователей: Spacer, VIP, PRO – ролевые статусы, отражающие степень вовлечённости и доверия к участнику. 
Спейсер – так называются обычные зарегистрированные пользователи платформы Go2Asia. Спейсеры создают контент в соцсети Space Asia, вступают в тематические группы, приглашают друзей в экосистему Go2Asia через реферальную систему. Любые действия Спейсеров в экосистеме называются активностями и вознаграждаются поинтами:
- лайк любой публикации в лентах тематических групп и в Blog Asia,
- публикация собственного контента в лентах тематических групп и в Blog Asia,
- получение лайка собственного контента,
- приглашение реферала.
Каждый спейсер имеет личную ленту в Space Asia и профиль, где накапливаются его достижения (лайки, поинты, NFT-бейджи). Спейсеры являются основой сообщества: они наполняют систему данными (постами, отзывами, статьями) и получают за свою активность внутренние вознаграждения в поинтах.

VIP-спейсер – пользователь, заплативший квалификационный взнос (1000 руб. в месяц) за расширенный статус VIP. VIP-спейсеры получают дополнительные привилегии в экосистеме: 
- все возможности Спейсеров,
- получает вознаграждения за приглашённых его рефералами субрефералов,
- получает вознаграждение за активности своих рефералов (10%) и приглашённых ими субрефералов (2%),
- может тратить поинты на ваучеры и квесты,
- получает кэшбек с покупки ваучера или квеста рефералом (100% от стоимости) и субрефералом (10% от стоимости).

PRO-спейсер – это участник с особыми полномочиями и ролью в экосистеме. PRO-спейсеры, как правило, самые опытные и активные участники (travel-эксперты, лидеры сообществ, локальные представители). Статус PRO может присваиваться командой Go2Asia или достигаться пользователем через программу развития (например, за определённый вклад и достижения). Роль PRO-спейсеров многосторонняя: они помогают модерации и наполнению контента, курируют тематические группы и новых участников, а главное – взаимодействуют с бизнес-партнёрами. Именно PRO-спейсеры привлекают локальный бизнес в программу Russian Friendly, консультируют их по работе с платформой. За свою проактивность PRO-спейсеры получают вознаграждения (например, комиссию с партнерских ваучеров, бонусы от рефералов) и пользуются наибольшими возможностями монетизации внутри экосистемы. Проще говоря, PRO-спейсер – это одновременно амбассадор платформы и связующее звено между сообществом путешественников и локальным бизнесом.

Двухконтурная модель экономики: Off-chain контур – Points и большинство NFT, On-chain контур – G2A и редкие NFT. Они взаимосвязаны: Points можно конвертировать в G2A (по курсу, с лимитами), G2A можно использовать, чтобы получить эксклюзивные NFT или услуги; NFT могут давать буст на заработок Points. Но при этом обычные действия не требуют взаимодействия с блокчейном (что важно для скорости и отсутствия комиссий): пользователь в повседневной активности оперирует Points. Как только дело касается более крупных ценностей или внешних взаимодействий – вступает G2A-контур. Например, PRO-кураторы вознаграждаются G2A за вклад в партнерскую программу – это своего рода “прибыль” экосистемы, которая может быть выведена. Points же – “баллы репутации и активности”, которые превращаются в ценность либо через конвертацию, либо через привилегии внутри платформы.

Экономические ограничения и баланс: Чтобы сохранить здоровье экономики, Go2Asia накладывает ограничения: ежедневные/месячные капы на начисление Points за одинаковые действия (анти-спам), контролирует инфляцию Points (регулируя правила начисления) и эмиссию G2A (ограниченный фонд токенов на вознаграждения). Конверсия Points→G2A обычно однонаправленная (обратно Points из G2A напрямую получить нельзя, чтобы не было злоупотреблений и размывания ценности). Вывод G2A на блокчейн – с комиссией или лимитами (например, нужно минимум X G2A). NFT редкого уровня могут требовать “сжигания” определённого количества Points или G2A для получения – это элементы token sink, которые не дают экономике разрастись бесконтрольно. Connect Asia, наблюдая за метриками (количество активных пользователей, средние начисления и пр.), может через администраторские настройки менять коэффициенты, запуская акции (например, “вдвое больше Points за посты в следующую неделю”) или наоборот, урезая награды, если видит, что слишком быстро растут балансы. Цель – поддерживать ценность мотивации: чтобы значок VIP действительно означал активность и приносил пользу, чтобы G2A был желанным и ценным ресурсом, а Points – увлекательной механикой, но не девальвированной “монополией”.

В итоге, экономика Go2Asia призвана создать ситуацию win-win для всех участников: 
- Пользователи получают удовольствие и пользу (контент, скидки, внимание) и одновременно копят внутренние бонусы за свою активность. 
- Активисты и кураторы могут монетизировать свой вклад – превращать свою экспертизу и труд в токены, которые ценятся не только внутри, но и вне платформы. 
- Бизнес-партнёры получают лояльных клиентов и промо, награждая их ваучерами и привлекая за счёт рекомендаций PRO, а сами PRO получают свою долю вознаграждения за развитие этой сети. 
- Платформа растёт органично, т.к. довольные участники привлекают новых (реферальная система) и реинвестируют свои Points в активности внутри (как цикл лояльности).

## Безопасность, приватность и нефункциональные требования

При разработке Go2Asia большое внимание уделяется безопасности данных, приватности пользователей, производительности и надёжности сервисов. Ниже рассмотрим основные подходы и требования, которые обеспечивают эти аспекты (так называемые нефункциональные требования, NFR):

Безопасность коммуникаций и доступов: Внутреннее взаимодействие микросервисов защищено с использованием mTLS – все сервис-сервис запросы проходят по зашифрованным каналам с обоюдной аутентификацией сертификатами. Внешние API вызовы (от фронтенда) авторизуются через JWT-токены с коротким временем жизни и чётко ограниченными правами (scoped claims). Например, токен пользователя позволяет ему лишь доступ к своим данным и общедоступным ресурсам, а сервисные токены (между компонентами) ещё более узкие. Реализована Role-Based Access Control (RBAC) для сервисов: каждый микросервис имеет свою сервисную роль, и доступ к критичным действиям (например, Gateway API) разрешён только определённым ролям. Это предотвращает ситуацию, когда, скажем, компрометация одного сервиса даст контроль над всем – у него просто не будет прав обратиться к чужой критичной функции. Также все релизы правил (например, экономических) подписываются и ведётся история правок, что защищает от несанкционированного изменения логики начислений.

Хранение секретов и криптография: Приватные ключи, особенно относящиеся к Blockchain Gateway (для токена G2A и NFT), хранятся в аппаратном модуле безопасности (HSM) или надёжном хранилище (HashiCorp Vault). Это предотвращает их кражу даже при компрометации сервера. Операции подписания транзакций выполняются внутри HSM, а не в открытом виде. Также используются аппаратные средства для разделения доступа: операционные команды (devops) не имеют доступа к ключам, а разработчики – к среде исполнения (принцип разделения ролей). Пользовательские пароли (если они используются, помимо соцлогинов) хранятся только в хешированном виде (bcrypt/argon2).

Приватность данных пользователей: Реализован подход Privacy by Design. Во-первых, сбор персональных данных минимизирован: платформа не требует избыточной информации – только необходимое (имя/ник, почта, при желании аватар). Ключевые персональные данные отделены от операционных сервисов: например, Token Service вовсе не хранит никаких PII, только user_id и агрегированные числа. Во-вторых, анонимизация и агрегирование логов: в журналах действий вместо явных user_id могут храниться их хеши, гео-координаты для аналитики обобщаются до меньшей точности (чтобы нельзя было идентифицировать конкретный адрес пользователя). Например, для метрик используются округленные координаты (до квадрата ~1км). В-третьих, пользователям даются настройки приватности: в Space Asia можно скрыть профиль от незнакомцев, в Guru – отключить “показывать меня на карте” (по умолчанию люди не отображаются, кроме PRO и только если они сами включили). Все такие опции уважаются на уровне сервисов. GDPR-минимизация означает, что при экспорте/удалении данных пользователя система готова быстро собрать все связанные с ним данные (поскольку хранение централизовано в User Service + контент, ссылочный user_id) и удалить по запросу. Кроме того, данные, являющиеся чувствительными (например, копии документов для верификации PRO) хранятся отдельно, с усиленным контролем доступа и шифрованием “в покое” (at rest encryption).

Производительность и SLA: Платформа нацелена на высокую скорость отклика, особенно для ключевых пользовательских запросов. Например, Geo-запросы “рядом” кешируются и оптимизированы так, чтобы P99 (99-й перцентиль) время ответа составляло менее 500 мс (в худшем случае, при холодных кэшах) и обычно ~150 мс при наличии кэша. Для этого используются in-memory кэши (Redis) и предварительное разбиение области на тайлы. Gateway (блокчейн-транзакции) работает с учетом сетевых задержек: ставится цель P95 < 2 секунд на отправку транзакции в мемпул TON, и примерно такая же величина на получение первых подтверждений (с учётом что это внешний фактор). SLA (соглашение об уровне сервиса) – внутренние цели uptime около 99.5-99.9% для основных пользовательских функций. Достигается это через репликацию сервисов (каждый микросервис развёрнут в нескольких экземплярах, балансируется), автоматический перезапуск при сбоях и т.д. Кроме того, заложены механизмы graceful degradation: если какой-то модуль падает, фронтенд/агрегаторы пытаются вывести хотя бы частичные данные. Например, если недоступен Blog, это не критично для Guru – он просто не покажет новость, а места/события покажет. Если недоступен Atlas при запросе Guru, то Guru отдаст последние закешированные точки для данной локации, вместо ошибки. Такие меры повышают воспринимаемую доступность.

Масштабируемость и кэширование: Уже упомянутое кэширование используется повсеместно. Geospatial запросы – кэш по тайлам координат или bounding box результатов. Контент (Atlas страницы, списки событий) – кеш на уровне CDN или edge-функций, с инвалидацией при изменениях. Есть механизм инвалидизации кэша при обновлении критичных данных: например, если место в Atlas обновлено, сервис пробегается и очищает связанные ключи кэша (по городу или id). Outbox-паттерн – для тяжелых операций, например, Gateway использует таблицу незавершённых операций, чтобы в фоне доделывать транзакции и повторять при неудаче. Это позволяет разгрузить основную логику: Token Service просто ставит задачу и мгновенно отвечает, а Gateway уже асинхронно её доводит до финала. Масштабируемость по сервисам: если растёт нагрузка на, скажем, Space (больше постов и пользователей), можно поднять больше экземпляров Content/Feed Service, вынести базу Space на отдельный кластер и т.д., не затрагивая другие части. Используются горизонтально масштабируемые хранилища: ClickHouse или Elastic для логов/метрик, шардированный Redis для кэшей, PostgreSQL для основных данных с возможностью шардирования по модулям. Таким образом, система готова к увеличению аудитории.

Наблюдаемость (Observability): Внедрены инструменты для мониторинга и трассировки запросов. Каждый запрос, проходящий через микросервис, помечается корреляционным идентификатором (correlation-id), который передается дальше по цепочке. Это позволяет проследить полный путь запроса через несколько сервисов в централизованных логах. Метрики собираются со всех сервисов: метрики производительности (время отклика, количество запросов), метрики бизнес-логики (сколько Points начислено, сколько квестов завершено), и системные (CPU, память, ошибки). Они отображаются на дашбордах и есть настроенные алерты (например, если ошибка 500 в каком-то сервисе превышает порог или время ответа выросло – DevOps команда получает уведомление). Логи аудита: для критических действий (например, on-chain транзакции, изменения правил начислений) ведутся расширенные логи с указанием, кто и когда инициировал действие. Например, в Gateway логируется: ключевой идентификатор транзакции, кто вызвал (Token Service, от имени какого user_id), результат (tx_hash). Трассировка (Tracing): с помощью инструментов вроде Jaeger, запросы отслеживаются по микросервисам – это упрощает отладку производительности, выявление узких мест.

Отказоустойчивость и восстановление: В дополнение к масштабированию, реализованы процедуры резервного копирования данных (базы Atlas, Space, Connect бэкапятся регулярно). Для критичных данных (балансы токенов, журнал транзакций) настроены ежедневные сверки: например, Token Service делает reconcile – проверяет, что сумма балансов всех Points совпадает с суммой всех начислений минус списания, несоответствия логируются и разбираются. Gateway тоже выполняет ежедневные отчёты по сверке on-chain и off-chain записей G2A/NFT. В случае частичного сбоя (например, временно недоступна внешняя TON-нода) система автоматически повторяет операции (retry с экспоненциальной задержкой) и имеет dead-letter queue для задач, требующих ручного вмешательства. Все это значит, что единичные проблемы не приводят к потере данных или длительному простою: система либо самовосстанавливается, либо быстро уведомляет инженеров, которые устраняют проблему.

Rate limiting и анти-спам: Для публичных API внедрены ограничения на частоту запросов по IP/пользователю, чтобы предотвратить злоупотребления (например, массовое сканирование базы или DDoS на поисковые функции). Особенно это актуально для транзакционных операций: Gateway имеет per-user и per-address rate-limit на вывод токенов. Контентные сервисы ограничивают создание контента: слишком частое создание постов или событий может привести к временной блокировке API-методов для данного пользователя (для борьбы со спамом). В партнерском RF API также есть ограничения – например, не более N ваучеров в день может выпустить один партнер, чтобы не обесценивать систему.

Комплаенс и защита от злоупотреблений: Так как Go2Asia оперирует токенами и ценностями, учтены комплаенс-аспекты. Например, при выводе значительных сумм G2A на внешний адрес может включаться KYT (Know Your Transaction) проверка – автоматический или ручной контроль на предмет отмывания средств или санкционных адресов. В экосистеме поддерживается “чистота” контента: контентные фильтры отсекают запрещённое (в Space/Blog – мат, экстремизм; в Atlas – вандализм правок; в RF – нелегальные бизнесы). Пользователи могут пожаловаться на контент или поведение; эти жалобы в приоритете обрабатываются модерацией. Есть SLA по модерации – например, все жалобы должны быть рассмотрены в течение 24 часов, все новые партнеры проверены в течение 48 часов и т.д. Это также часть нефункциональных требований – обеспечение доверия и безопасности сообщества.

Подводя итог: Go2Asia строится не только как богатый по функциям продукт, но и как надежная, безопасная платформа. Микросервисы, обмен данными и экономика защищены на уровне транспорта и логики, личные данные пользователей сведены к минимуму в системах (и под их контролем), а архитектура выдерживает существенные нагрузки и сбои без заметного ухудшения пользовательского опыта. Эти нефункциональные аспекты закладывают фундамент доверия: пользователи могут быть уверены, что их аккаунты и накопленные награды в безопасности, а сервис будет доступен, когда он им нужен – будь то срочный поиск жилья или прохождение квеста в реальном времени. Все это особенно критично, потому что Go2Asia объединяет реальных людей, деньги (через токены) и бизнесы – сферы, где нет места компромиссам в вопросах безопасности и надежности.