# ADR-0020: No inline comments. Social-first discussions via reposts.

**Status:** Accepted

## Context

- Go2Asia — экосистемная платформа с единым social-контуром (Space) и множеством контентных модулей (Blog / Atlas / Pulse / RF / Rielt / Quest и т.д.).
- Inline-комментарии “под объектом” (например, под статьёй Blog или карточкой места Atlas) фрагментируют обсуждения по модулям и усложняют модерацию/антифрод.
- Для Go2Asia важен единый механизм социальной активности и вознаграждений (Points / Quest / Referral), который должен работать одинаково для всех типов контента.
- В ранних версиях документов встречались упоминания внешних виджетов (Disqus / Giscus) и inline-комментариев. Эти упоминания считаются **устаревшими** и не отражают текущую архитектурную концепцию.

## Decision

- **Inline-комментарии под контентом не используются.**
- Любое обсуждение контента происходит через **репост в Space** (личные и групповые ленты).
- **Комментарии возможны только в контексте объекта Space (поста/репоста)**, а не в контексте исходного объекта (статьи/места/события/партнёра/объявления).

### Repost (архитектурная модель)

Репост — это отдельный объект Space (пост типа `repost`), который ссылается на исходный объект экосистемы:

- `author_id` — автор репоста (пользователь Space)
- `target_type` — тип исходного объекта:
  - `blog_post` | `place` | `event` | `partner` | `quest` | `listing`
- `target_id` — идентификатор исходного объекта
- `text` (optional) — контекст/мнение автора (текст репоста)
- `created_at`, `updated_at`

Репосты:
- отображаются в лентах (личные/групповые),
- могут получать реакции,
- могут быть источником reward-событий (например, для начисления Points).

## Rationale

- Единый social-граф и единый канал обсуждений для всех модулей.
- Упрощение модерации и Trust & Safety (один контур UGC вместо множества comment-систем).
- Лучшая интеграция с Points / Quest / Referral: события активности унифицируются (repost/reaction).
- Избежание дублирования comment-систем и таблиц “comments” в каждом доменном сервисе.

## Consequences

- Нет Disqus/Giscus и аналогов.
- Нет comment-таблиц и inline-comment API в Content/Blog/Atlas/Pulse/RF/Rielt сервисах.
- Space — единственное место для обсуждений и UGC вокруг контента.
- Контентные модули остаются **read-only + shareable** (кнопки “поделиться” → репост в Space).


