# Ревью технического задания MVP Go2Asia

**Дата:** 2025-01-16  
**Ревьюер:** Requirements Reviewer (TZ Reviewer)  
**Документ:** `docs/plans/mvp_tz_draft.md`  
**Версия ТЗ:** 1.0 (черновик)

---

## Краткое резюме

Черновик ТЗ MVP Go2Asia представляет собой структурированный документ, описывающий минимально жизнеспособный продукт экосистемы. Документ охватывает основные модули (Atlas, Pulse, Blog, Connect), роли пользователей, backend микросервисы и frontend архитектуру. В целом документ готов к использованию архитектором, но требует уточнений по ряду пунктов.

---

## Чек-лист проверки

### ✅ 1. Структурированность ТЗ

**Статус:** APPROVED

ТЗ имеет чёткую структуру:
- Контекст и цели
- Роли пользователей
- Модули MVP
- Backend микросервисы
- Frontend архитектура
- User Stories
- Non-functional requirements
- Критерии приёмки
- Ограничения и риски
- Зависимости

**Замечания:** Нет

---

### ⚠️ 2. Полнота функциональных требований

**Статус:** CHANGES REQUIRED

**Замечания:**

1. **Недостаточно детализированы API endpoints**
   - В разделе 4 указаны только базовые endpoints, но отсутствуют:
     - Параметры запросов (query params, path params)
     - Форматы ответов (response schemas)
     - Коды ошибок
   - **Рекомендация:** Добавить детальное описание API или ссылку на OpenAPI спецификацию

2. **Не описана логика начисления Points**
   - В разделе 4.3 указано "Начисление Points за активность", но не описано:
     - За какие именно действия начисляются Points
     - Сколько Points начисляется за каждое действие
     - Правила начисления (лимиты, velocity checks)
   - **Рекомендация:** Добавить таблицу правил начисления Points

3. **Не описана логика реферальной программы**
   - В разделе 4.4 указано "Начисление бонусов за рефералов", но не описано:
     - Сколько Points начисляется за приглашённого пользователя
     - Условия начисления (активность реферала, достижения)
     - Правила многоуровневой реферальной системы (для VIP)
   - **Рекомендация:** Добавить детальное описание механики реферальной программы

4. **Не описана логика регистрации на события**
   - В разделе 3.2 указано "Регистрация на событие", но не описано:
     - Как хранится информация о регистрации
     - Есть ли лимиты на количество участников
     - Как обрабатываются отмены регистрации
   - **Рекомендация:** Добавить описание логики регистрации на события

5. **Не описана логика офлайн-режима**
   - В разделах 3.1, 3.2 указано "Офлайн-доступ", но не описано:
     - Какие данные кэшируются
     - Как происходит синхронизация при восстановлении соединения
     - Лимиты кэширования
   - **Рекомендация:** Добавить описание стратегии кэширования для офлайн-режима

---

### ✅ 3. Полнота нефункциональных требований

**Статус:** APPROVED

Раздел 7 содержит все необходимые нефункциональные требования:
- Производительность (метрики, кэширование)
- Безопасность (аутентификация, авторизация, rate limiting, валидация)
- Доступность (PWA, mobile-first, SEO)
- Масштабируемость (микросервисы, CDN, БД)
- Наблюдаемость (логирование, метрики, health checks)

**Замечания:** Нет

---

### ⚠️ 4. Отсутствие противоречий

**Статус:** CHANGES REQUIRED

**Замечания:**

1. **Противоречие в роли VIP-Spacer**
   - В разделе 2.2 указано "Доступ к эксклюзивным событиям (если есть)", но в разделе 1.3 указано "Не входит в MVP: PRO-функции и кураторство"
   - В `docs/knowledge/user_roles.md` VIP-Spacer может тратить Points на ваучеры и квесты, но в MVP квесты не входят
   - **Рекомендация:** Уточнить, какие именно функции VIP доступны в MVP

2. **Противоречие в Connect Asia**
   - В разделе 3.4 указано "Базовые достижения (бейджи за активность)", но в разделе 1.3 указано "Нет NFT (только виртуальные бейджи)"
   - Неясно, что означает "виртуальные бейджи" — это просто UI элемент или есть какая-то система хранения
   - **Рекомендация:** Уточнить, как реализуются бейджи в MVP (только UI или есть таблица в БД)

3. **Противоречие в Content Service**
   - В разделе 4.2 указано "CRUD операции для мест (Atlas)", но в разделе 3.1 указано "Нет редактирования контента пользователями"
   - Неясно, кто может создавать/редактировать контент — только администраторы или есть админ-панель
   - **Рекомендация:** Уточнить, кто имеет доступ к CRUD операциям в Content Service

---

### ✅ 5. Наличие чётких критериев приёмки

**Статус:** APPROVED

Раздел 8 содержит детальные критерии приёмки:
- Функциональные критерии (6 пунктов)
- Технические критерии (6 пунктов)
- UX критерии (4 пункта)

Все критерии измеримы и проверяемы.

**Замечания:** Нет

---

### ✅ 6. Проверка на соответствие roadmap и архитектурным принципам

**Статус:** APPROVED

ТЗ соответствует:
- Roadmap (Phase 1: Pilot Modules — контентные модули)
- Архитектурным принципам (микросервисы, OpenAPI-first, PWA)
- Infrastructure context (Clerk, Neon, Cloudflare, Netlify)
- Engineering Playbook (OpenAPI-first, CI/CD, Observability)

**Замечания:** Нет

---

### ⚠️ 7. Проверка зависимости между модулями/сервисами

**Статус:** CHANGES REQUIRED

**Замечания:**

1. **Не описаны зависимости между сервисами**
   - Не указано, какие сервисы вызывают другие сервисы
   - Не описана последовательность инициализации сервисов
   - Не указаны синхронные vs асинхронные взаимодействия
   - **Рекомендация:** Добавить диаграмму зависимостей или описание взаимодействий

2. **Не описана интеграция с Clerk**
   - В разделе 4.1 указано "Интеграция с Clerk SSO (вебхуки)", но не описано:
     - Какие события от Clerk обрабатываются
     - Как обрабатываются ошибки вебхуков
     - Как синхронизируются данные пользователей
   - **Рекомендация:** Добавить описание интеграции с Clerk

3. **Не описана интеграция Points Service с другими сервисами**
   - Не указано, какие сервисы могут начислять Points
   - Не описана механика событий для начисления Points
   - **Рекомендация:** Добавить описание event-driven архитектуры для Points

---

### ⚠️ 8. Проверка корректности терминов

**Статус:** CHANGES REQUIRED

**Замечания:**

1. **Термин "Spacer" vs "Spacer"**
   - В документе используется "Spacer", но в `docs/knowledge/user_roles.md` используется "Спейсер"
   - **Рекомендация:** Унифицировать терминологию (использовать английские термины в технической документации)

2. **Термин "Points" vs "поинты"**
   - В документе используется "Points", что корректно
   - Но в некоторых местах используется "Points" без пояснения, что это внутренняя валюта
   - **Рекомендация:** Добавить глоссарий терминов или ссылку на `docs/overview/glossary.md`

3. **Термин "Feature Capsule"**
   - В разделе 5.2 используется термин "Feature Capsule", но не объяснено, что это означает
   - **Рекомендация:** Добавить пояснение или ссылку на архитектурную документацию

---

## Дополнительные замечания

### Положительные моменты

1. ✅ Хорошая структура документа
2. ✅ Детальные User Stories
3. ✅ Чёткие критерии приёмки
4. ✅ Учтены ограничения MVP
5. ✅ Описаны риски и митигация

### Рекомендации по улучшению

1. **Добавить диаграммы**
   - Архитектурная диаграмма системы
   - Диаграмма взаимодействия сервисов
   - Диаграмма пользовательских потоков

2. **Добавить примеры данных**
   - Примеры API запросов/ответов
   - Примеры данных для Places, Events, Articles
   - Примеры транзакций Points

3. **Добавить описание админ-панели**
   - Кто имеет доступ к админ-панели
   - Какие функции доступны администраторам
   - Как создаётся/редактируется контент

4. **Добавить описание seed данных**
   - Какие данные нужны для демонстрации функциональности
   - Как будут подготовлены seed данные
   - Источники данных (если есть)

---

## Вердикт

**Статус:** **CHANGES REQUIRED**

**Обоснование:**

Черновик ТЗ MVP имеет хорошую структуру и покрывает основные аспекты проекта. Однако документ требует доработки по следующим направлениям:

1. **Детализация функциональных требований:**
   - Описание логики начисления Points
   - Описание логики реферальной программы
   - Описание логики регистрации на события
   - Описание стратегии офлайн-режима

2. **Устранение противоречий:**
   - Уточнение функций VIP-Spacer в MVP
   - Уточнение реализации бейджей в Connect
   - Уточнение доступа к CRUD операциям в Content Service

3. **Описание зависимостей:**
   - Диаграмма зависимостей между сервисами
   - Описание интеграции с Clerk
   - Описание event-driven архитектуры для Points

4. **Унификация терминологии:**
   - Добавление глоссария терминов
   - Пояснение термина "Feature Capsule"

**Рекомендуемые действия:**

1. Requirements Analyst должен доработать ТЗ согласно замечаниям
2. После доработки ТЗ должен быть повторно отправлен на ревью
3. После получения статуса APPROVED ТЗ может быть передан Architect для проектирования архитектуры

---

## Deliverables

- ✅ Ревью ТЗ проведено
- ✅ Замечания сформулированы
- ✅ Вердикт выдан: CHANGES REQUIRED

## Open Questions

1. Нужно ли добавлять в ТЗ детальные API спецификации или достаточно ссылки на OpenAPI?
2. Нужно ли описывать админ-панель в ТЗ MVP или это выходит за рамки MVP?
3. Какой объём seed данных нужен для демонстрации функциональности?

## Next

После доработки ТЗ Requirements Analyst должен повторно отправить документ на ревью. После получения статуса APPROVED ТЗ может быть передан Architect для проектирования архитектуры MVP.







