# Milestone 5A — Issues / Deviations

**Дата:** 2025-12-25

## M5A-001 — F5 (500) не воспроизведён без изменения окружения (BLOCKED)

- **Раздел плана:** F5 (Error handling → 500)
- **Ожидаемо:** принудительно получить 500 и проверить:
  - нет DEMO MODE
  - user-friendly ошибка
  - `requestId` присутствует
- **Факт:** в текущей конфигурации staging доступные “безопасные” негативные запросы дают 401/404 (что мы проверили), но воспроизвести 500 без:
  - отключения downstream,
  - изменения worker vars,
  - добавления debug-endpoint,
  — нельзя (а это уже выходит за freeze rule).
- **Статус:** BLOCKED (integration freeze)
- **Минимальный безопасный вариант для выполнения F5 без фич:**
  - ручной сценарий “downstream недоступен” через кратковременную операционную симуляцию (если допускается): временно задать неверный `CONTENT_SERVICE_URL` в staging gateway **и сразу вернуть обратно**, фиксируя шаги и `requestId`.  
  - Если это считается “изменением кода/окружения” (скорее всего да) — оставить F5 как BLOCKED и перенести в M5B как “тестовый хук/инъекция ошибок” (уже как часть testing).

## M5A-002 — Media/R2: в публичных событиях imageUrl = null (OBSERVATION)

- **Раздел плана:** D (Content)
- **Факт:** `GET /v1/content/events?limit=3` возвращает `imageUrl: null` (при том, что `media_files` в debug counts = 167)
- **Риск:** UI Pulse может оставаться “без обложек”, что ухудшает MVP-perception
- **Статус:** OBSERVATION (не фиксилось в рамках M5A)
- **Комментарий:** блог сейчас отдаёт `coverImage` как внешний URL (pexels), а не R2.



