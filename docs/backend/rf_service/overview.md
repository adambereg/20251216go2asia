# RF Service — Обзор

## Назначение

**RF Service (Russian Friendly Service)** — микросервис, который отвечает за:

- партнёрскую программу **Russian Friendly**;
- учёт **бизнес-партнёров** (местный бизнес: кафе, бары, турфирмы, коворкинги и т.д.);
- их **точки/заведения** и базовые условия лояльности;
- связь с **PRO-спейсерами**, которые курируют партнёров;
- связку с **Voucher Service** и экономикой **Премиум-ваучеров**;
- интеграцию с Atlas/Guru/Quest/Rielt для единой витрины Go2Asia.

RF Service **не занимается**:

- прямой обработкой платежей;
- хранением самих ваучеров (этим ведает Voucher Service);
- начислением токенов G2A или Points (Token / Points Service).

Он хранит структуру партнёрской программы и конфигурацию:  
кто партнёр, где находится, какие бонусы даёт, какие ваучеры и премиум-ваучеры используют,  
какой PRO-спейсер его курирует.

---

## Основные функции

1. **Каталог бизнес-партнёров Russian Friendly**
   - хранение карточек партнёров (бренд, описание, контакты, категории, теги);
   - хранение привязки к странам/городам/районам;
   - связь с конкретными местами в Atlas Asia (через `atlas_place_id`).

2. **Заведения и точки партнёров**
   - один партнёр может иметь несколько точек (филиалов) в разных местах;
   - каждая точка может:
     - отображаться в RF-каталоге;
     - отображаться в Atlas (как “место-партнёр”).

3. **Статусы и уровни партнёров**
   - базовый, расширенный, VIP-партнёр, “Russian Friendly PRO” и т.п.;
   - отображаются в UI бейджами;
   - могут влиять на размер скидок, кэшбэка и т.п. (поддерживается конфигурацией).

4. **Связь с PRO-спейсерами**
   - хранение информации, какой PRO-спейсер:
     - провёл онбординг партнёра;
     - курирует партнёра;
   - конфигурирование долей вознаграждений PRO при выпуске и продаже Премиум-ваучеров.

5. **Интеграция с ваучерами**
   - хранение ссылок на **обычные ваучеры** и **Премиум-ваучеры** в Voucher Service:
     - базовые ваучеры “скидка 10% на кофе” и т.п.;
     - премиум-ваучеры, покупаемые VIP-спейсерами за G2A и NFT;
   - RF Service использует ID ваучеров, чтобы:
     - показывать пользователям доступные ваучеры на карточке партнёра;
     - передавать в BFF/фронт контекст для дальнейшего вызова Voucher Service.

6. **Модель лояльности и экономики на стороне RF**
   - параметры лояльности:
     - сколько % скидки или бонуса получает путешественник;
     - какие ваучеры доступны за Points;
   - параметры распределения наград:
     - какие G2A-награды получает бизнес-партнёр и PRO за покупку Премиум-ваучера;
   - сами начисления G2A делаются Token Service, но RF Service хранит конфигурацию.

7. **Статистика партнёров (агрегированная)**
   - общее количество визитов/чеков/редемпшенов ваучеров (через интеграцию с Voucher/Points);
   - рейтинги и отзывы (через интеграцию с Content/Reaction).

---

## Роль в экосистеме

RF Service — “ядро” партнёрской программы.  

Он связывает:

- **Atlas Asia** — места и география;
- **Guru Asia** — PRO-спейсеров и их “подопечных” бизнес-партнёров;
- **Voucher Service** — обычные и Премиум-ваучеры;
- **Points / Token / NFT / Blockchain Gateway** — экономику Points и G2A/NFT;
- **Quest Asia** — квесты и активности, завязанные на партнёрские места;
- **Space Asia** — социальный слой (отзывы, обзоры, публикации о партнёрах).

Все модули, которые хотят показать “Russian Friendly партнёров” или использовать их
в механиках вознаграждений, обращаются к RF Service.
