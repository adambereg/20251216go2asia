# Points Service — Roadmap

Points Service будет развиваться по мере усложнения экономики Go2Asia.

## Этап 1 — MVP Ledger

- Возможности:
  - операции `credit`, `debit`, `hold`, `release`, `capture`;
  - сущности `PointsTransaction`, `PointsHold`, `UserBalance`;
  - идемпотентность по `external_id`;
  - интеграция с Connect, Quest, Voucher, Rielt;
  - базовый аудит и логи.
- Цель:
  - надёжный офчейн ledger для Points,
  - полная прослеживаемость всех операций.

## Этап 2 — Массовые операции и аналитика

- Пакетные операции:
  - batch-credit / batch-debit для массовых кампаний (например, промо-акции).
- Аналитика:
  - оптимизация индексов и запросов,
  - удобные выгрузки для Data Warehouse,
  - отчёты по типам операций, кампаниям, источникам.

## Этап 3 — Мультивалютность и лимиты

- Поддержка нескольких офчейн-валют:
  - `points`,
  - возможно `promo_points`,
  - опционально `g2a_offchain` (учёт будущих ончейн-выводов).
- Лимиты и квоты:
  - дневные/месячные ограничения на начисления/списания,
  - индивидуальные лимиты по категориям пользователей,
  - интеграция с Anti-Fraud/Limit Service.

## Этап 4 — Глубокая интеграция с ончейн-контуром

- Согласование с Blockchain Gateway:
  - сценарии, когда часть Points может быть связана с ончейн-токенами G2A;
  - двухконтурные reconciliation-процессы (offchain ↔ onchain).
- Автоматизированные проверки:
  - сравнительный анализ крупных балансов,
  - alerting при аномалиях.

---

Такая дорожная карта позволяет:
- начать с компактного, но строгого ядра,
- постепенно наращивать мощь (аналитика, мультивалютность, лимиты),
- не нарушая базовый принцип: **Points Service = прозрачный и надёжный ledger экономики Go2Asia**.
