# Guru Service — Обзор

## Назначение

Guru Service — микросервис “здесь и сейчас” для Go2Asia.  
Он отвечает за **агрегацию всего, что интересно пользователю рядом с ним**:

- места из Atlas Asia,
- события из Pulse Asia,
- жильё из Rielt Service,
- заведения и услуги Russian Friendly,
- квесты и активности,
- **людей рядом — PRO-спейсеров (“гуру локации”), которые открыты для контакта**.

Если Atlas — энциклопедия, Pulse — календарь, Rielt — жильё, RF — партнёрские точки,  
то Guru — **единый “nearby” слой**, который собирает всё это по гео и контексту и отдаёт в удобном виде в PWA-модуль Guru Asia.

Отдельная фишка:  
**PRO-спейсеры, включившие флажок “Показать меня в Guru / быть доступным как гуру”, становятся видимыми в Guru Asia как локальные эксперты.**  
Путешественник, приехав в город, может найти таких PRO рядом, обратиться за консультацией, рекомендациями или заказать экскурсию/сопровождение.

## Основные задачи

- Принимать на вход:
  - координаты пользователя (`lat`, `lng`),
  - радиус поиска,
  - фильтры (тип сущности, категория, бюджет, “сейчас открыто”, “показать гуру” и т.п.),
  - пользовательский контекст (профиль путешествий, интересы — в следующих фазах).
- Запрашивать профильные сервисы:
  - Atlas — места,
  - Pulse — события,
  - Rielt — жильё,
  - RF — заведения партнёров,
  - Quest — квесты,
  - **User/Space — PRO-спейсеров с включённым “visible_in_guru”**.
- Нормализовать ответы в общий формат “карточек” (entity cards).
- Отдавать фронтенду:
  - ленту “рядом” (смешанный поток сущностей),
  - отдельные ленты по типам (места / события / жильё / гуру / …),
  - пресеты “что делать сегодня/вечером/с детьми/для работы”.

## Роль в UX

Модуль **Guru Asia (PWA)** строит интерфейс:

- карта + список объектов рядом,
- быстрые пресеты:
  - “Сейчас открыто”,
  - “Сегодня вечером”,
  - “С детьми”,
  - “Дешёвый перекус рядом”,
  - “Коворкинги / места для работы”,
  - **“Найти гуру рядом” (PRO-спейсеры)**,
- ленточный формат: “микст” из разных сущностей (места, события, жильё, гуру и т.п.).

Guru Service — **агрегатор-оркестратор**,  
источник правды по данным всегда остаётся в профильных микросервисах (Atlas, Pulse, Rielt, RF, Quest, User/Space).
