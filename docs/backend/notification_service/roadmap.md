# Notification Service — Roadmap

## Этап 1 — Базовое ядро уведомлений

- Каналы:
  - email (через Postbox/SMTP-провайдер),
  - push (через OneSignal/FCM для веб/мобайл).
- Функциональность:
  - `Notification` модель и отправка,
  - internal API `/internal/enqueue`,
  - подписчик на события:
    - `user.registered`,
    - `user.password_reset_requested`,
    - базовые `reaction.created` (repost, short_review для RF-партнёров),
  - история уведомлений (минимальная).
- Интеграции:
  - User Service (регистрация/сброс пароля),
  - часть Reactions (репосты, отзывы).

## Этап 2 — Расширение каналов и предпочтений

- Добавить:
  - Telegram Bot канал,
  - in-app уведомления (лента уведомлений в Space Asia).
- Реализовать:
  - `NotificationPreference` модель,
  - API `/user/preferences`,
  - поддержку quiet hours и отключения типов уведомлений.
- Расширить подписки:
  - `thread.reply.created`,
  - `quest.completed`,
  - `points.awarded`, `badge.earned`,
  - `rf_partner.review_received`.

## Этап 3 — Маркетинговые кампании и дайджесты

- Механика кампаний:
  - `campaign_id`, планирование рассылок,
  - недельные/месячные дайджесты:
    - новые места, события, квесты,
    - личные достижения пользователя.
- Более продвинутые правила:
  - сегментация по интересам,
  - AI-подборки контента для рассылок (совместно с Recommendation/AI-сервисами).

## Этап 4 — Аналитика и оптимизация

- Статистика:
  - CTR, open rate, delivery rate по типам уведомлений и пользователям.
- A/B-тестирование:
  - сравнение разных шаблонов.
- Оптимизация:
  - автоматическое снижение частоты уведомлений при низком вовлечении,
  - динамическая настройка времени отправки.

## Этап 5 — Глубокая интеграция с персональными экосистемами

- Встраивание в «персональные экосистемы» пользователя:
  - синхронизация с внешними календарями (опционально),
  - интеллектуальные ассистенты (AI) в Go2Asia, которые помогают управлять потоком уведомлений.
- Возможная интеграция с AI-агентом:
  - предобработка уведомлений,
  - кластеризация и свёртка (например, «3 новых события в Нячанге, 2 новых отзыва о ваших квестах»).

---

Такая дорожная карта позволяет начать с минимально необходимой инфраструктуры
для системных и социальных уведомлений, а затем постепенно превратить
Notification Service в мощный центр коммуникаций и персонализированных рассылок
в экосистеме Go2Asia.
